<!DOCTYPE html>
<html >

<head>

  <meta charset="UTF-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <title>Data Science for Biological, Medical and Health Research: Notes for 432</title>
  <meta name="description" content="These are the Course Notes for 432.">
  <meta name="generator" content="bookdown 0.7 and GitBook 2.6.7">

  <meta property="og:title" content="Data Science for Biological, Medical and Health Research: Notes for 432" />
  <meta property="og:type" content="book" />
  
  
  <meta property="og:description" content="These are the Course Notes for 432." />
  <meta name="github-repo" content="thomaselove/432-notes" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="Data Science for Biological, Medical and Health Research: Notes for 432" />
  
  <meta name="twitter:description" content="These are the Course Notes for 432." />
  

<meta name="author" content="Thomas E. Love, Ph.D.">



  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  
  
<link rel="prev" href="colorectal-cancer-screening-and-some-special-cases.html">
<link rel="next" href="modeling-a-count-outcome-in-ohio-smart.html">
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />









<style type="text/css">
div.sourceCode { overflow-x: auto; }
table.sourceCode, tr.sourceCode, td.lineNumbers, td.sourceCode {
  margin: 0; padding: 0; vertical-align: baseline; border: none; }
table.sourceCode { width: 100%; line-height: 100%; }
td.lineNumbers { text-align: right; padding-right: 4px; padding-left: 4px; color: #aaaaaa; border-right: 1px solid #aaaaaa; }
td.sourceCode { padding-left: 5px; }
code > span.kw { color: #007020; font-weight: bold; } /* Keyword */
code > span.dt { color: #902000; } /* DataType */
code > span.dv { color: #40a070; } /* DecVal */
code > span.bn { color: #40a070; } /* BaseN */
code > span.fl { color: #40a070; } /* Float */
code > span.ch { color: #4070a0; } /* Char */
code > span.st { color: #4070a0; } /* String */
code > span.co { color: #60a0b0; font-style: italic; } /* Comment */
code > span.ot { color: #007020; } /* Other */
code > span.al { color: #ff0000; font-weight: bold; } /* Alert */
code > span.fu { color: #06287e; } /* Function */
code > span.er { color: #ff0000; font-weight: bold; } /* Error */
code > span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
code > span.cn { color: #880000; } /* Constant */
code > span.sc { color: #4070a0; } /* SpecialChar */
code > span.vs { color: #4070a0; } /* VerbatimString */
code > span.ss { color: #bb6688; } /* SpecialString */
code > span.im { } /* Import */
code > span.va { color: #19177c; } /* Variable */
code > span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code > span.op { color: #666666; } /* Operator */
code > span.bu { } /* BuiltIn */
code > span.ex { } /* Extension */
code > span.pp { color: #bc7a00; } /* Preprocessor */
code > span.at { color: #7d9029; } /* Attribute */
code > span.do { color: #ba2121; font-style: italic; } /* Documentation */
code > span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code > span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code > span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">432 Course Notes</a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Introduction</a></li>
<li class="chapter" data-level="" data-path="r-packages-used-in-these-notes.html"><a href="r-packages-used-in-these-notes.html"><i class="fa fa-check"></i>R Packages used in these notes</a></li>
<li class="chapter" data-level="" data-path="data-used-in-these-notes.html"><a href="data-used-in-these-notes.html"><i class="fa fa-check"></i>Data used in these notes</a></li>
<li class="chapter" data-level="" data-path="special-functions-used-in-these-notes.html"><a href="special-functions-used-in-these-notes.html"><i class="fa fa-check"></i>Special Functions used in these notes</a></li>
<li class="chapter" data-level="1" data-path="building-table-1.html"><a href="building-table-1.html"><i class="fa fa-check"></i><b>1</b> Building Table 1</a><ul>
<li class="chapter" data-level="1.1" data-path="building-table-1.html"><a href="building-table-1.html#two-examples-from-the-new-england-journal-of-medicine"><i class="fa fa-check"></i><b>1.1</b> Two examples from the <em>New England Journal of Medicine</em></a><ul>
<li class="chapter" data-level="1.1.1" data-path="building-table-1.html"><a href="building-table-1.html#a-simple-table-1"><i class="fa fa-check"></i><b>1.1.1</b> A simple Table 1</a></li>
<li class="chapter" data-level="1.1.2" data-path="building-table-1.html"><a href="building-table-1.html#a-group-comparison"><i class="fa fa-check"></i><b>1.1.2</b> A group comparison</a></li>
</ul></li>
<li class="chapter" data-level="1.2" data-path="building-table-1.html"><a href="building-table-1.html#the-mr-clean-trial"><i class="fa fa-check"></i><b>1.2</b> The MR CLEAN trial</a></li>
<li class="chapter" data-level="1.3" data-path="building-table-1.html"><a href="building-table-1.html#simulated-fakestroke-data"><i class="fa fa-check"></i><b>1.3</b> Simulated <code>fakestroke</code> data</a></li>
<li class="chapter" data-level="1.4" data-path="building-table-1.html"><a href="building-table-1.html#building-table-1-for-fakestroke-attempt-1"><i class="fa fa-check"></i><b>1.4</b> Building Table 1 for <code>fakestroke</code>: Attempt 1</a><ul>
<li class="chapter" data-level="1.4.1" data-path="building-table-1.html"><a href="building-table-1.html#some-of-this-is-very-useful-and-other-parts-need-to-be-fixed."><i class="fa fa-check"></i><b>1.4.1</b> Some of this is very useful, and other parts need to be fixed.</a></li>
<li class="chapter" data-level="1.4.2" data-path="building-table-1.html"><a href="building-table-1.html#fakestroke-cleaning-up-categorical-variables"><i class="fa fa-check"></i><b>1.4.2</b> <code>fakestroke</code> Cleaning Up Categorical Variables</a></li>
</ul></li>
<li class="chapter" data-level="1.5" data-path="building-table-1.html"><a href="building-table-1.html#fakestroke-table-1-attempt-2"><i class="fa fa-check"></i><b>1.5</b> <code>fakestroke</code> Table 1: Attempt 2</a><ul>
<li class="chapter" data-level="1.5.1" data-path="building-table-1.html"><a href="building-table-1.html#what-summaries-should-we-show"><i class="fa fa-check"></i><b>1.5.1</b> What summaries should we show?</a></li>
</ul></li>
<li class="chapter" data-level="1.6" data-path="building-table-1.html"><a href="building-table-1.html#obtaining-a-more-detailed-summary"><i class="fa fa-check"></i><b>1.6</b> Obtaining a more detailed Summary</a></li>
<li class="chapter" data-level="1.7" data-path="building-table-1.html"><a href="building-table-1.html#exporting-the-completed-table-1-from-r-to-excel-or-word"><i class="fa fa-check"></i><b>1.7</b> Exporting the Completed Table 1 from R to Excel or Word</a><ul>
<li class="chapter" data-level="1.7.1" data-path="building-table-1.html"><a href="building-table-1.html#approach-a-save-and-open-in-excel"><i class="fa fa-check"></i><b>1.7.1</b> Approach A: Save and open in Excel</a></li>
<li class="chapter" data-level="1.7.2" data-path="building-table-1.html"><a href="building-table-1.html#approach-b-produce-the-table-so-you-can-cut-and-paste-it"><i class="fa fa-check"></i><b>1.7.2</b> Approach B: Produce the Table so you can cut and paste it</a></li>
</ul></li>
<li class="chapter" data-level="1.8" data-path="building-table-1.html"><a href="building-table-1.html#a-controlled-biological-experiment---the-blood-brain-barrier"><i class="fa fa-check"></i><b>1.8</b> A Controlled Biological Experiment - The Blood-Brain Barrier</a></li>
<li class="chapter" data-level="1.9" data-path="building-table-1.html"><a href="building-table-1.html#the-bloodbrain.csv-file"><i class="fa fa-check"></i><b>1.9</b> The <code>bloodbrain.csv</code> file</a></li>
<li class="chapter" data-level="1.10" data-path="building-table-1.html"><a href="building-table-1.html#a-table-1-for-bloodbrain"><i class="fa fa-check"></i><b>1.10</b> A Table 1 for <code>bloodbrain</code></a><ul>
<li class="chapter" data-level="1.10.1" data-path="building-table-1.html"><a href="building-table-1.html#generate-final-table-1-for-bloodbrain"><i class="fa fa-check"></i><b>1.10.1</b> Generate final Table 1 for <code>bloodbrain</code></a></li>
<li class="chapter" data-level="1.10.2" data-path="building-table-1.html"><a href="building-table-1.html#a-more-finished-version-after-cleanup-in-word"><i class="fa fa-check"></i><b>1.10.2</b> A More Finished Version (after Cleanup in Word)</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html"><i class="fa fa-check"></i><b>2</b> Linear Regression on a small SMART data set</a><ul>
<li class="chapter" data-level="2.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#brfss-and-smart"><i class="fa fa-check"></i><b>2.1</b> BRFSS and SMART</a><ul>
<li class="chapter" data-level="2.1.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#key-resources"><i class="fa fa-check"></i><b>2.1.1</b> Key resources</a></li>
</ul></li>
<li class="chapter" data-level="2.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#the-smartcle1-data-cookbook"><i class="fa fa-check"></i><b>2.2</b> The <code>smartcle1</code> data: Cookbook</a></li>
<li class="chapter" data-level="2.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#smartcle2-omitting-missing-observations-complete-case-analyses"><i class="fa fa-check"></i><b>2.3</b> <code>smartcle2</code>: Omitting Missing Observations: Complete-Case Analyses</a></li>
<li class="chapter" data-level="2.4" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#summarizing-the-smartcle2-data-numerically"><i class="fa fa-check"></i><b>2.4</b> Summarizing the <code>smartcle2</code> data numerically</a><ul>
<li class="chapter" data-level="2.4.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#the-new-toy-the-skim-function"><i class="fa fa-check"></i><b>2.4.1</b> The New Toy: The <code>skim</code> function</a></li>
<li class="chapter" data-level="2.4.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#the-usual-summary-for-a-data-frame"><i class="fa fa-check"></i><b>2.4.2</b> The usual <code>summary</code> for a data frame</a></li>
<li class="chapter" data-level="2.4.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#the-describe-function-in-hmisc"><i class="fa fa-check"></i><b>2.4.3</b> The <code>describe</code> function in <code>Hmisc</code></a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#counting-as-exploratory-data-analysis"><i class="fa fa-check"></i><b>2.5</b> Counting as exploratory data analysis</a><ul>
<li class="chapter" data-level="2.5.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#how-many-respondents-had-exercised-in-the-past-30-days-did-this-vary-by-sex"><i class="fa fa-check"></i><b>2.5.1</b> How many respondents had exercised in the past 30 days? Did this vary by sex?</a></li>
<li class="chapter" data-level="2.5.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#whats-the-distribution-of-sleephrs"><i class="fa fa-check"></i><b>2.5.2</b> What’s the distribution of <code>sleephrs</code>?</a></li>
<li class="chapter" data-level="2.5.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#whats-the-distribution-of-bmi"><i class="fa fa-check"></i><b>2.5.3</b> What’s the distribution of <code>BMI</code>?</a></li>
<li class="chapter" data-level="2.5.4" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#how-many-of-the-respondents-have-a-bmi-below-30"><i class="fa fa-check"></i><b>2.5.4</b> How many of the respondents have a BMI below 30?</a></li>
<li class="chapter" data-level="2.5.5" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#how-many-of-the-respondents-who-have-a-bmi-30-exercised"><i class="fa fa-check"></i><b>2.5.5</b> How many of the respondents who have a BMI &lt; 30 exercised?</a></li>
<li class="chapter" data-level="2.5.6" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#is-obesity-associated-with-sex-in-these-data"><i class="fa fa-check"></i><b>2.5.6</b> Is obesity associated with sex, in these data?</a></li>
<li class="chapter" data-level="2.5.7" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#comparing-sleephrs-summaries-by-obesity-status"><i class="fa fa-check"></i><b>2.5.7</b> Comparing <code>sleephrs</code> summaries by obesity status</a></li>
<li class="chapter" data-level="2.5.8" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#the-skim-function-within-a-pipe"><i class="fa fa-check"></i><b>2.5.8</b> The <code>skim</code> function within a pipe</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#first-modeling-attempt-can-bmi-predict-physhealth"><i class="fa fa-check"></i><b>2.6</b> First Modeling Attempt: Can <code>bmi</code> predict <code>physhealth</code>?</a><ul>
<li class="chapter" data-level="2.6.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#fitting-a-simple-regression-model"><i class="fa fa-check"></i><b>2.6.1</b> Fitting a Simple Regression Model</a></li>
<li class="chapter" data-level="2.6.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#model-summary-for-a-simple-one-predictor-regression"><i class="fa fa-check"></i><b>2.6.2</b> Model Summary for a Simple (One-Predictor) Regression</a></li>
<li class="chapter" data-level="2.6.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#using-the-broom-package"><i class="fa fa-check"></i><b>2.6.3</b> Using the <code>broom</code> package</a></li>
<li class="chapter" data-level="2.6.4" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#how-does-the-model-do-residuals-vs.fitted-values"><i class="fa fa-check"></i><b>2.6.4</b> How does the model do? (Residuals vs. Fitted Values)</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#a-new-small-study-predicting-bmi"><i class="fa fa-check"></i><b>2.7</b> A New Small Study: Predicting BMI</a><ul>
<li class="chapter" data-level="2.7.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#does-female-predict-bmi-well"><i class="fa fa-check"></i><b>2.7.1</b> Does <code>female</code> predict <code>bmi</code> well?</a></li>
</ul></li>
<li class="chapter" data-level="2.8" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m1-a-simple-t-test-model"><i class="fa fa-check"></i><b>2.8</b> <code>c2_m1</code>: A simple t-test model</a></li>
<li class="chapter" data-level="2.9" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m2-adding-another-predictor-two-way-anova-without-interaction"><i class="fa fa-check"></i><b>2.9</b> <code>c2_m2</code>: Adding another predictor (two-way ANOVA without interaction)</a></li>
<li class="chapter" data-level="2.10" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m3-adding-the-interaction-term-two-way-anova-with-interaction"><i class="fa fa-check"></i><b>2.10</b> <code>c2_m3</code>: Adding the interaction term (Two-way ANOVA with interaction)</a></li>
<li class="chapter" data-level="2.11" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m4-using-female-and-sleephrs-in-a-model-for-bmi"><i class="fa fa-check"></i><b>2.11</b> <code>c2_m4</code>: Using <code>female</code> and <code>sleephrs</code> in a model for <code>bmi</code></a></li>
<li class="chapter" data-level="2.12" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#making-predictions-with-a-linear-regression-model"><i class="fa fa-check"></i><b>2.12</b> Making Predictions with a Linear Regression Model</a><ul>
<li class="chapter" data-level="2.12.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#fitting-an-individual-prediction-and-95-prediction-interval"><i class="fa fa-check"></i><b>2.12.1</b> Fitting an Individual Prediction and 95% Prediction Interval</a></li>
<li class="chapter" data-level="2.12.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#confidence-interval-for-an-average-prediction"><i class="fa fa-check"></i><b>2.12.2</b> Confidence Interval for an Average Prediction</a></li>
<li class="chapter" data-level="2.12.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#fitting-multiple-individual-predictions-to-new-data"><i class="fa fa-check"></i><b>2.12.3</b> Fitting Multiple Individual Predictions to New Data</a></li>
<li class="chapter" data-level="2.12.4" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#simulation-to-represent-predictive-uncertainty-in-model-4"><i class="fa fa-check"></i><b>2.12.4</b> Simulation to represent predictive uncertainty in Model 4</a></li>
</ul></li>
<li class="chapter" data-level="2.13" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#centering-the-model"><i class="fa fa-check"></i><b>2.13</b> Centering the model</a><ul>
<li class="chapter" data-level="2.13.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#plot-of-model-4-on-centered-sleephrs-c2_m4_c"><i class="fa fa-check"></i><b>2.13.1</b> Plot of Model 4 on Centered <code>sleephrs</code>: <code>c2_m4_c</code></a></li>
</ul></li>
<li class="chapter" data-level="2.14" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#rescaling-an-input-by-subtracting-the-mean-and-dividing-by-2-standard-deviations"><i class="fa fa-check"></i><b>2.14</b> Rescaling an input by subtracting the mean and dividing by 2 standard deviations</a><ul>
<li class="chapter" data-level="2.14.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#refitting-model-c2_m4-to-the-rescaled-data"><i class="fa fa-check"></i><b>2.14.1</b> Refitting model <code>c2_m4</code> to the rescaled data</a></li>
<li class="chapter" data-level="2.14.2" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#interpreting-the-model-on-rescaled-data"><i class="fa fa-check"></i><b>2.14.2</b> Interpreting the model on rescaled data</a></li>
<li class="chapter" data-level="2.14.3" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#plot-of-model-on-rescaled-data"><i class="fa fa-check"></i><b>2.14.3</b> Plot of model on rescaled data</a></li>
</ul></li>
<li class="chapter" data-level="2.15" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m5-what-if-we-add-more-variables"><i class="fa fa-check"></i><b>2.15</b> <code>c2_m5</code>: What if we add more variables?</a></li>
<li class="chapter" data-level="2.16" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m6-would-adding-self-reported-health-help"><i class="fa fa-check"></i><b>2.16</b> <code>c2_m6</code>: Would adding self-reported health help?</a></li>
<li class="chapter" data-level="2.17" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#c2_m7-what-if-we-added-the-menthealth-variable"><i class="fa fa-check"></i><b>2.17</b> <code>c2_m7</code>: What if we added the <code>menthealth</code> variable?</a></li>
<li class="chapter" data-level="2.18" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#key-regression-assumptions-for-building-effective-prediction-models"><i class="fa fa-check"></i><b>2.18</b> Key Regression Assumptions for Building Effective Prediction Models</a><ul>
<li class="chapter" data-level="2.18.1" data-path="linear-regression-on-a-small-smart-data-set.html"><a href="linear-regression-on-a-small-smart-data-set.html#checking-assumptions-in-model-c2_m7"><i class="fa fa-check"></i><b>2.18.1</b> Checking Assumptions in model <code>c2_m7</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html"><i class="fa fa-check"></i><b>3</b> Analysis of Variance</a><ul>
<li class="chapter" data-level="3.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-bonding-data-a-designed-dental-experiment"><i class="fa fa-check"></i><b>3.1</b> The <code>bonding</code> data: A Designed Dental Experiment</a></li>
<li class="chapter" data-level="3.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-one-factor-analysis-of-variance"><i class="fa fa-check"></i><b>3.2</b> A One-Factor Analysis of Variance</a><ul>
<li class="chapter" data-level="3.2.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#look-at-the-data"><i class="fa fa-check"></i><b>3.2.1</b> Look at the Data!</a></li>
<li class="chapter" data-level="3.2.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#table-of-summary-statistics"><i class="fa fa-check"></i><b>3.2.2</b> Table of Summary Statistics</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-two-way-anova-looking-at-two-factors"><i class="fa fa-check"></i><b>3.3</b> A Two-Way ANOVA: Looking at Two Factors</a></li>
<li class="chapter" data-level="3.4" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-means-plot-with-standard-deviations-to-check-for-interaction"><i class="fa fa-check"></i><b>3.4</b> A Means Plot (with standard deviations) to check for interaction</a><ul>
<li class="chapter" data-level="3.4.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#skimming-the-data-after-grouping-by-resin-and-light"><i class="fa fa-check"></i><b>3.4.1</b> Skimming the data after grouping by <code>resin</code> and <code>light</code></a></li>
</ul></li>
<li class="chapter" data-level="3.5" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#fitting-the-two-way-anova-model-with-interaction"><i class="fa fa-check"></i><b>3.5</b> Fitting the Two-Way ANOVA model with Interaction</a><ul>
<li class="chapter" data-level="3.5.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-anova-table-for-our-model"><i class="fa fa-check"></i><b>3.5.1</b> The ANOVA table for our model</a></li>
<li class="chapter" data-level="3.5.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#is-the-interaction-important"><i class="fa fa-check"></i><b>3.5.2</b> Is the interaction important?</a></li>
<li class="chapter" data-level="3.5.3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#interpreting-the-interaction"><i class="fa fa-check"></i><b>3.5.3</b> Interpreting the Interaction</a></li>
</ul></li>
<li class="chapter" data-level="3.6" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#comparing-individual-combinations-of-resin-and-light"><i class="fa fa-check"></i><b>3.6</b> Comparing Individual Combinations of <code>resin</code> and <code>light</code></a></li>
<li class="chapter" data-level="3.7" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-bonding-model-without-interaction"><i class="fa fa-check"></i><b>3.7</b> The <code>bonding</code> model without Interaction</a></li>
<li class="chapter" data-level="3.8" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#cortisol-a-hypothetical-clinical-trial"><i class="fa fa-check"></i><b>3.8</b> <code>cortisol</code>: A Hypothetical Clinical Trial</a><ul>
<li class="chapter" data-level="3.8.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#codebook-and-raw-data-for-cortisol"><i class="fa fa-check"></i><b>3.8.1</b> Codebook and Raw Data for <code>cortisol</code></a></li>
</ul></li>
<li class="chapter" data-level="3.9" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#creating-a-factor-combining-sex-and-waist"><i class="fa fa-check"></i><b>3.9</b> Creating a factor combining sex and waist</a></li>
<li class="chapter" data-level="3.10" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-means-plot-for-the-cortisol-trial-with-standard-errors"><i class="fa fa-check"></i><b>3.10</b> A Means Plot for the <code>cortisol</code> trial (with standard errors)</a></li>
<li class="chapter" data-level="3.11" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-two-way-anova-model-for-cortisol-with-interaction"><i class="fa fa-check"></i><b>3.11</b> A Two-Way ANOVA model for <code>cortisol</code> with Interaction</a></li>
<li class="chapter" data-level="3.12" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#a-two-way-anova-model-for-cortisol-without-interaction"><i class="fa fa-check"></i><b>3.12</b> A Two-Way ANOVA model for <code>cortisol</code> without Interaction</a><ul>
<li class="chapter" data-level="3.12.1" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-graph"><i class="fa fa-check"></i><b>3.12.1</b> The Graph</a></li>
<li class="chapter" data-level="3.12.2" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-anova-model"><i class="fa fa-check"></i><b>3.12.2</b> The ANOVA Model</a></li>
<li class="chapter" data-level="3.12.3" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#the-regression-summary"><i class="fa fa-check"></i><b>3.12.3</b> The Regression Summary</a></li>
<li class="chapter" data-level="3.12.4" data-path="analysis-of-variance.html"><a href="analysis-of-variance.html#tukey-hsd-comparisons"><i class="fa fa-check"></i><b>3.12.4</b> Tukey HSD Comparisons</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html"><i class="fa fa-check"></i><b>4</b> Analysis of Covariance</a><ul>
<li class="chapter" data-level="4.1" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#an-emphysema-study"><i class="fa fa-check"></i><b>4.1</b> An Emphysema Study</a><ul>
<li class="chapter" data-level="4.1.1" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#codebook"><i class="fa fa-check"></i><b>4.1.1</b> Codebook</a></li>
</ul></li>
<li class="chapter" data-level="4.2" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#does-sex-affect-the-mean-change-in-theophylline"><i class="fa fa-check"></i><b>4.2</b> Does <code>sex</code> affect the mean change in theophylline?</a></li>
<li class="chapter" data-level="4.3" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#is-there-an-association-between-age-and-sex-in-this-study"><i class="fa fa-check"></i><b>4.3</b> Is there an association between <code>age</code> and <code>sex</code> in this study?</a></li>
<li class="chapter" data-level="4.4" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#adding-a-quantitative-covariate-age-to-the-model"><i class="fa fa-check"></i><b>4.4</b> Adding a quantitative covariate, <code>age</code>, to the model</a><ul>
<li class="chapter" data-level="4.4.1" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#the-ancova-model"><i class="fa fa-check"></i><b>4.4.1</b> The ANCOVA model</a></li>
<li class="chapter" data-level="4.4.2" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#the-ancova-table"><i class="fa fa-check"></i><b>4.4.2</b> The ANCOVA Table</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#rerunning-the-ancova-model-after-simple-imputation"><i class="fa fa-check"></i><b>4.5</b> Rerunning the ANCOVA model after simple imputation</a></li>
<li class="chapter" data-level="4.6" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#looking-at-a-factor-covariate-interaction"><i class="fa fa-check"></i><b>4.6</b> Looking at a factor-covariate interaction</a></li>
<li class="chapter" data-level="4.7" data-path="analysis-of-covariance.html"><a href="analysis-of-covariance.html#centering-the-covariate-to-facilitate-ancova-interpretation"><i class="fa fa-check"></i><b>4.7</b> Centering the Covariate to Facilitate ANCOVA Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="5" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html"><i class="fa fa-check"></i><b>5</b> Missing Data Mechanisms and Single Imputation</a><ul>
<li class="chapter" data-level="5.1" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#a-toy-example"><i class="fa fa-check"></i><b>5.1</b> A Toy Example</a><ul>
<li class="chapter" data-level="5.1.1" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#how-many-missing-values-do-we-have-in-each-column"><i class="fa fa-check"></i><b>5.1.1</b> How many missing values do we have in each column?</a></li>
<li class="chapter" data-level="5.1.2" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#what-is-the-pattern-of-missing-data"><i class="fa fa-check"></i><b>5.1.2</b> What is the pattern of missing data?</a></li>
<li class="chapter" data-level="5.1.3" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#how-can-we-identify-the-subjects-with-missing-data"><i class="fa fa-check"></i><b>5.1.3</b> How can we identify the subjects with missing data?</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#missing-data-mechanisms"><i class="fa fa-check"></i><b>5.2</b> Missing-data mechanisms</a></li>
<li class="chapter" data-level="5.3" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#options-for-dealing-with-missingness"><i class="fa fa-check"></i><b>5.3</b> Options for Dealing with Missingness</a></li>
<li class="chapter" data-level="5.4" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#complete-case-and-available-case-analyses"><i class="fa fa-check"></i><b>5.4</b> Complete Case (and Available Case) analyses</a></li>
<li class="chapter" data-level="5.5" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#single-imputation"><i class="fa fa-check"></i><b>5.5</b> Single Imputation</a></li>
<li class="chapter" data-level="5.6" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#multiple-imputation"><i class="fa fa-check"></i><b>5.6</b> Multiple Imputation</a></li>
<li class="chapter" data-level="5.7" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#building-a-complete-case-analysis"><i class="fa fa-check"></i><b>5.7</b> Building a Complete Case Analysis</a></li>
<li class="chapter" data-level="5.8" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#single-imputation-with-the-mean-or-mode"><i class="fa fa-check"></i><b>5.8</b> Single Imputation with the Mean or Mode</a></li>
<li class="chapter" data-level="5.9" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#doing-single-imputation-with-simputation"><i class="fa fa-check"></i><b>5.9</b> Doing Single Imputation with <code>simputation</code></a><ul>
<li class="chapter" data-level="5.9.1" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#mirroring-our-prior-approach-imputing-meansmediansmodes"><i class="fa fa-check"></i><b>5.9.1</b> Mirroring Our Prior Approach (imputing means/medians/modes)</a></li>
<li class="chapter" data-level="5.9.2" data-path="missing-data-mechanisms-and-single-imputation.html"><a href="missing-data-mechanisms-and-single-imputation.html#using-a-model-to-impute-sbp.before-and-diabetes"><i class="fa fa-check"></i><b>5.9.2</b> Using a model to impute <code>sbp.before</code> and <code>diabetes</code></a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html"><i class="fa fa-check"></i><b>6</b> A Study of Prostate Cancer</a><ul>
<li class="chapter" data-level="6.1" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#data-load-and-background"><i class="fa fa-check"></i><b>6.1</b> Data Load and Background</a></li>
<li class="chapter" data-level="6.2" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#code-book"><i class="fa fa-check"></i><b>6.2</b> Code Book</a></li>
<li class="chapter" data-level="6.3" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#additions-for-later-use"><i class="fa fa-check"></i><b>6.3</b> Additions for Later Use</a></li>
<li class="chapter" data-level="6.4" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#fitting-and-evaluating-a-two-predictor-model"><i class="fa fa-check"></i><b>6.4</b> Fitting and Evaluating a Two-Predictor Model</a><ul>
<li class="chapter" data-level="6.4.1" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#using-tidy"><i class="fa fa-check"></i><b>6.4.1</b> Using <code>tidy</code></a></li>
<li class="chapter" data-level="6.4.2" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#interpretation"><i class="fa fa-check"></i><b>6.4.2</b> Interpretation</a></li>
</ul></li>
<li class="chapter" data-level="6.5" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#exploring-model-c5_prost_a"><i class="fa fa-check"></i><b>6.5</b> Exploring Model <code>c5_prost_A</code></a><ul>
<li class="chapter" data-level="6.5.1" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#summary-for-model-c5_prost_a"><i class="fa fa-check"></i><b>6.5.1</b> <code>summary</code> for Model <code>c5_prost_A</code></a></li>
<li class="chapter" data-level="6.5.2" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#adjusted-r2"><i class="fa fa-check"></i><b>6.5.2</b> Adjusted R<sup>2</sup></a></li>
<li class="chapter" data-level="6.5.3" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#coefficient-confidence-intervals"><i class="fa fa-check"></i><b>6.5.3</b> Coefficient Confidence Intervals</a></li>
<li class="chapter" data-level="6.5.4" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#anova-for-model-c5_prost_a"><i class="fa fa-check"></i><b>6.5.4</b> ANOVA for Model <code>c5_prost_A</code></a></li>
<li class="chapter" data-level="6.5.5" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#residuals-fitted-values-and-standard-errors-with-augment"><i class="fa fa-check"></i><b>6.5.5</b> Residuals, Fitted Values and Standard Errors with <code>augment</code></a></li>
<li class="chapter" data-level="6.5.6" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#making-predictions-with-c5_prost_a"><i class="fa fa-check"></i><b>6.5.6</b> Making Predictions with <code>c5_prost_A</code></a></li>
</ul></li>
<li class="chapter" data-level="6.6" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#plotting-model-c5_prost_a"><i class="fa fa-check"></i><b>6.6</b> Plotting Model <code>c5_prost_A</code></a><ul>
<li class="chapter" data-level="6.6.1" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#residual-plots-of-c5_prost_a"><i class="fa fa-check"></i><b>6.6.1</b> Residual Plots of <code>c5_prost_A</code></a></li>
</ul></li>
<li class="chapter" data-level="6.7" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#cross-validation-of-model-c5_prost_a"><i class="fa fa-check"></i><b>6.7</b> Cross-Validation of Model <code>c5_prost_A</code></a><ul>
<li class="chapter" data-level="6.7.1" data-path="a-study-of-prostate-cancer.html"><a href="a-study-of-prostate-cancer.html#cross-validated-summaries-of-prediction-quality"><i class="fa fa-check"></i><b>6.7.1</b> Cross-Validated Summaries of Prediction Quality</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html"><i class="fa fa-check"></i><b>7</b> Stepwise Variable Selection</a><ul>
<li class="chapter" data-level="7.1" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#strategy-for-model-selection"><i class="fa fa-check"></i><b>7.1</b> Strategy for Model Selection</a><ul>
<li class="chapter" data-level="7.1.1" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#how-do-we-choose-potential-subsets-of-predictors"><i class="fa fa-check"></i><b>7.1.1</b> How Do We Choose Potential Subsets of Predictors?</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#a-kitchen-sink-model-model-c5_prost_ks"><i class="fa fa-check"></i><b>7.2</b> A “Kitchen Sink” Model (Model <code>c5_prost_ks</code>)</a></li>
<li class="chapter" data-level="7.3" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#sequential-variable-selection-stepwise-approaches"><i class="fa fa-check"></i><b>7.3</b> Sequential Variable Selection: Stepwise Approaches</a><ul>
<li class="chapter" data-level="7.3.1" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#the-big-problems-with-stepwise-regression"><i class="fa fa-check"></i><b>7.3.1</b> The Big Problems with Stepwise Regression</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#forward-selection-with-the-step-function"><i class="fa fa-check"></i><b>7.4</b> Forward Selection with the <code>step</code> function</a></li>
<li class="chapter" data-level="7.5" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#backward-elimination-using-the-step-function"><i class="fa fa-check"></i><b>7.5</b> Backward Elimination using the <code>step</code> function</a></li>
<li class="chapter" data-level="7.6" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#allen-cady-modified-backward-elimination"><i class="fa fa-check"></i><b>7.6</b> Allen-Cady Modified Backward Elimination</a><ul>
<li class="chapter" data-level="7.6.1" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#demonstration-of-the-allen-cady-approach"><i class="fa fa-check"></i><b>7.6.1</b> Demonstration of the Allen-Cady approach</a></li>
</ul></li>
<li class="chapter" data-level="7.7" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#summarizing-the-results"><i class="fa fa-check"></i><b>7.7</b> Summarizing the Results</a><ul>
<li class="chapter" data-level="7.7.1" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#in-sample-testing-and-summaries"><i class="fa fa-check"></i><b>7.7.1</b> In-Sample Testing and Summaries</a></li>
<li class="chapter" data-level="7.7.2" data-path="stepwise-variable-selection.html"><a href="stepwise-variable-selection.html#validating-the-results-of-the-various-models"><i class="fa fa-check"></i><b>7.7.2</b> Validating the Results of the Various Models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><i class="fa fa-check"></i><b>8</b> “Best Subsets” Variable Selection in our Prostate Cancer Study</a><ul>
<li class="chapter" data-level="8.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#four-key-summaries-well-use-to-evaluate-potential-models"><i class="fa fa-check"></i><b>8.1</b> Four Key Summaries We’ll Use to Evaluate Potential Models</a></li>
<li class="chapter" data-level="8.2" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#using-regsubsets-in-the-leaps-package"><i class="fa fa-check"></i><b>8.2</b> Using <code>regsubsets</code> in the <code>leaps</code> package</a><ul>
<li class="chapter" data-level="8.2.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#identifying-the-models-with-which-and-outmat"><i class="fa fa-check"></i><b>8.2.1</b> Identifying the models with <code>which</code> and <code>outmat</code></a></li>
</ul></li>
<li class="chapter" data-level="8.3" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#calculating-bias-corrected-aic"><i class="fa fa-check"></i><b>8.3</b> Calculating bias-corrected AIC</a><ul>
<li class="chapter" data-level="8.3.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#calculation-of-aic.c-in-our-setting"><i class="fa fa-check"></i><b>8.3.1</b> Calculation of aic.c in our setting</a></li>
<li class="chapter" data-level="8.3.2" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#the-uncorrected-aic-provides-no-more-useful-information-here"><i class="fa fa-check"></i><b>8.3.2</b> The Uncorrected AIC provides no more useful information here</a></li>
<li class="chapter" data-level="8.3.3" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#building-a-tibble-containing-the-necessary-information"><i class="fa fa-check"></i><b>8.3.3</b> Building a Tibble containing the necessary information</a></li>
</ul></li>
<li class="chapter" data-level="8.4" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#plotting-the-best-subsets-results-using-ggplot2"><i class="fa fa-check"></i><b>8.4</b> Plotting the Best Subsets Results using <code>ggplot2</code></a><ul>
<li class="chapter" data-level="8.4.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#the-adjusted-r2-plot"><i class="fa fa-check"></i><b>8.4.1</b> The Adjusted R<sup>2</sup> Plot</a></li>
<li class="chapter" data-level="8.4.2" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#mallows-c_p"><i class="fa fa-check"></i><b>8.4.2</b> Mallows’ <span class="math inline">\(C_p\)</span></a></li>
<li class="chapter" data-level="8.4.3" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#the-c_p-plot"><i class="fa fa-check"></i><b>8.4.3</b> The <span class="math inline">\(C_p\)</span> Plot</a></li>
<li class="chapter" data-level="8.4.4" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#all-subsets-regression-and-information-criteria"><i class="fa fa-check"></i><b>8.4.4</b> “All Subsets” Regression and Information Criteria</a></li>
<li class="chapter" data-level="8.4.5" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#the-bias-corrected-aic-plot"><i class="fa fa-check"></i><b>8.4.5</b> The bias-corrected AIC plot</a></li>
<li class="chapter" data-level="8.4.6" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#the-bic-plot"><i class="fa fa-check"></i><b>8.4.6</b> The BIC plot</a></li>
<li class="chapter" data-level="8.4.7" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#all-four-plots-in-one-figure-via-ggplot2"><i class="fa fa-check"></i><b>8.4.7</b> All Four Plots in One Figure (via ggplot2)</a></li>
</ul></li>
<li class="chapter" data-level="8.5" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#table-of-key-results"><i class="fa fa-check"></i><b>8.5</b> Table of Key Results</a></li>
<li class="chapter" data-level="8.6" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#models-worth-considering"><i class="fa fa-check"></i><b>8.6</b> Models Worth Considering?</a></li>
<li class="chapter" data-level="8.7" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#compare-these-candidate-models-in-sample"><i class="fa fa-check"></i><b>8.7</b> Compare these candidate models in-sample?</a><ul>
<li class="chapter" data-level="8.7.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#using-anova-to-compare-nested-models"><i class="fa fa-check"></i><b>8.7.1</b> Using <code>anova</code> to compare nested models</a></li>
</ul></li>
<li class="chapter" data-level="8.8" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#aic-and-bic-comparisons-within-the-training-sample"><i class="fa fa-check"></i><b>8.8</b> AIC and BIC comparisons, within the training sample</a></li>
<li class="chapter" data-level="8.9" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#cross-validation-of-candidate-models-out-of-sample"><i class="fa fa-check"></i><b>8.9</b> Cross-Validation of Candidate Models out of Sample</a><ul>
<li class="chapter" data-level="8.9.1" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#fold-cross-validation-of-model-m04"><i class="fa fa-check"></i><b>8.9.1</b> 20-fold Cross-Validation of model <code>m04</code></a></li>
<li class="chapter" data-level="8.9.2" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#fold-cross-validation-of-model-m07"><i class="fa fa-check"></i><b>8.9.2</b> 20-fold Cross-Validation of model <code>m07</code></a></li>
<li class="chapter" data-level="8.9.3" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#fold-cross-validation-of-model-m08"><i class="fa fa-check"></i><b>8.9.3</b> 20-fold Cross-Validation of model <code>m08</code></a></li>
<li class="chapter" data-level="8.9.4" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#comparing-the-results-of-the-cross-validations"><i class="fa fa-check"></i><b>8.9.4</b> Comparing the Results of the Cross-Validations</a></li>
</ul></li>
<li class="chapter" data-level="8.10" data-path="best-subsets-variable-selection-in-our-prostate-cancer-study.html"><a href="best-subsets-variable-selection-in-our-prostate-cancer-study.html#what-about-interaction-terms"><i class="fa fa-check"></i><b>8.10</b> What about Interaction Terms?</a></li>
</ul></li>
<li class="chapter" data-level="9" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html"><i class="fa fa-check"></i><b>9</b> Adding Non-linear Terms to a Linear Regression Model</a><ul>
<li class="chapter" data-level="9.1" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#the-pollution-data"><i class="fa fa-check"></i><b>9.1</b> The <code>pollution</code> data</a></li>
<li class="chapter" data-level="9.2" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#fitting-a-straight-line-model-to-predict-y-from-x2"><i class="fa fa-check"></i><b>9.2</b> Fitting a straight line model to predict <code>y</code> from <code>x2</code></a></li>
<li class="chapter" data-level="9.3" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#quadratic-polynomial-model-to-predict-y-using-x2"><i class="fa fa-check"></i><b>9.3</b> Quadratic polynomial model to predict <code>y</code> using <code>x2</code></a><ul>
<li class="chapter" data-level="9.3.1" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#the-raw-quadratic-model"><i class="fa fa-check"></i><b>9.3.1</b> The raw quadratic model</a></li>
<li class="chapter" data-level="9.3.2" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#raw-quadratic-fit-after-centering-x2"><i class="fa fa-check"></i><b>9.3.2</b> Raw quadratic fit after centering <code>x2</code></a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#orthogonal-polynomials"><i class="fa fa-check"></i><b>9.4</b> Orthogonal Polynomials</a></li>
<li class="chapter" data-level="9.5" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#fit-a-cubic-polynomial-to-predict-y-from-x3"><i class="fa fa-check"></i><b>9.5</b> Fit a cubic polynomial to predict <code>y</code> from <code>x3</code></a></li>
<li class="chapter" data-level="9.6" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#fitting-a-restricted-cubic-spline-in-a-linear-regression"><i class="fa fa-check"></i><b>9.6</b> Fitting a restricted cubic spline in a linear regression</a></li>
<li class="chapter" data-level="9.7" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#spending-degrees-of-freedom"><i class="fa fa-check"></i><b>9.7</b> “Spending” Degrees of Freedom</a><ul>
<li class="chapter" data-level="9.7.1" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#overfitting-and-limits-on-the-of-predictors"><i class="fa fa-check"></i><b>9.7.1</b> Overfitting and Limits on the # of Predictors</a></li>
<li class="chapter" data-level="9.7.2" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#the-importance-of-collinearity"><i class="fa fa-check"></i><b>9.7.2</b> The Importance of Collinearity</a></li>
<li class="chapter" data-level="9.7.3" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#collinearity-in-an-explanatory-model"><i class="fa fa-check"></i><b>9.7.3</b> Collinearity in an Explanatory Model</a></li>
<li class="chapter" data-level="9.7.4" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#collinearity-in-a-prediction-model"><i class="fa fa-check"></i><b>9.7.4</b> Collinearity in a Prediction Model</a></li>
</ul></li>
<li class="chapter" data-level="9.8" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#spending-df-on-non-linearity-the-spearman-rho2-plot"><i class="fa fa-check"></i><b>9.8</b> Spending DF on Non-Linearity: The Spearman <span class="math inline">\(\rho^2\)</span> Plot</a><ul>
<li class="chapter" data-level="9.8.1" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#fitting-a-big-model-to-the-pollution-data"><i class="fa fa-check"></i><b>9.8.1</b> Fitting a Big Model to the <code>pollution</code> data</a></li>
<li class="chapter" data-level="9.8.2" data-path="adding-non-linear-terms-to-a-linear-regression-model.html"><a href="adding-non-linear-terms-to-a-linear-regression-model.html#limitations-of-lm-for-fitting-complex-linear-regression-models"><i class="fa fa-check"></i><b>9.8.2</b> Limitations of <code>lm</code> for fitting complex linear regression models</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="10" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html"><i class="fa fa-check"></i><b>10</b> Using <code>ols</code> from the <code>rms</code> package to fit linear models</a><ul>
<li class="chapter" data-level="10.1" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#fitting-a-model-with-ols"><i class="fa fa-check"></i><b>10.1</b> Fitting a model with <code>ols</code></a><ul>
<li class="chapter" data-level="10.1.1" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#the-model-likelihood-ratio-test"><i class="fa fa-check"></i><b>10.1.1</b> The Model Likelihood Ratio Test</a></li>
<li class="chapter" data-level="10.1.2" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#the-g-statistic"><i class="fa fa-check"></i><b>10.1.2</b> The g statistic</a></li>
</ul></li>
<li class="chapter" data-level="10.2" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#anova-for-an-ols-model"><i class="fa fa-check"></i><b>10.2</b> ANOVA for an <code>ols</code> model</a></li>
<li class="chapter" data-level="10.3" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#effect-estimates"><i class="fa fa-check"></i><b>10.3</b> Effect Estimates</a><ul>
<li class="chapter" data-level="10.3.1" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#simultaneous-confidence-intervals"><i class="fa fa-check"></i><b>10.3.1</b> Simultaneous Confidence Intervals</a></li>
</ul></li>
<li class="chapter" data-level="10.4" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#the-predict-function-for-an-ols-model"><i class="fa fa-check"></i><b>10.4</b> The <code>Predict</code> function for an <code>ols</code> model</a></li>
<li class="chapter" data-level="10.5" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#checking-influence-via-dfbeta"><i class="fa fa-check"></i><b>10.5</b> Checking Influence via <code>dfbeta</code></a><ul>
<li class="chapter" data-level="10.5.1" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#using-the-residuals-command-for-dfbetas"><i class="fa fa-check"></i><b>10.5.1</b> Using the <code>residuals</code> command for <code>dfbetas</code></a></li>
<li class="chapter" data-level="10.5.2" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#using-the-residuals-command-for-other-summaries"><i class="fa fa-check"></i><b>10.5.2</b> Using the <code>residuals</code> command for other summaries</a></li>
</ul></li>
<li class="chapter" data-level="10.6" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#model-validation-and-correcting-for-optimism"><i class="fa fa-check"></i><b>10.6</b> Model Validation and Correcting for Optimism</a></li>
<li class="chapter" data-level="10.7" data-path="using-ols-from-the-rms-package-to-fit-linear-models.html"><a href="using-ols-from-the-rms-package-to-fit-linear-models.html#building-a-nomogram-for-our-model"><i class="fa fa-check"></i><b>10.7</b> Building a Nomogram for Our Model</a></li>
</ul></li>
<li class="chapter" data-level="11" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html"><i class="fa fa-check"></i><b>11</b> Other Variable Selection Strategies</a><ul>
<li class="chapter" data-level="11.1" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#why-not-use-stepwise-procedures"><i class="fa fa-check"></i><b>11.1</b> Why not use stepwise procedures?</a></li>
<li class="chapter" data-level="11.2" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#ridge-regression"><i class="fa fa-check"></i><b>11.2</b> Ridge Regression</a><ul>
<li class="chapter" data-level="11.2.1" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#assessing-a-ridge-regression-approach"><i class="fa fa-check"></i><b>11.2.1</b> Assessing a Ridge Regression Approach</a></li>
<li class="chapter" data-level="11.2.2" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#the-lm.ridge-plot---where-do-coefficients-stabilize"><i class="fa fa-check"></i><b>11.2.2</b> The <code>lm.ridge</code> plot - where do coefficients stabilize?</a></li>
<li class="chapter" data-level="11.2.3" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#ridge-regression-the-bottom-line"><i class="fa fa-check"></i><b>11.2.3</b> Ridge Regression: The Bottom Line</a></li>
</ul></li>
<li class="chapter" data-level="11.3" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#the-lasso"><i class="fa fa-check"></i><b>11.3</b> The Lasso</a><ul>
<li class="chapter" data-level="11.3.1" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#consequences-of-the-lasso-approach"><i class="fa fa-check"></i><b>11.3.1</b> Consequences of the Lasso Approach</a></li>
<li class="chapter" data-level="11.3.2" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#how-the-lasso-works"><i class="fa fa-check"></i><b>11.3.2</b> How The Lasso Works</a></li>
<li class="chapter" data-level="11.3.3" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#cross-validation-with-the-lasso"><i class="fa fa-check"></i><b>11.3.3</b> Cross-Validation with the Lasso</a></li>
<li class="chapter" data-level="11.3.4" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#what-value-of-the-key-fraction-minimizes-cross-validated-mse"><i class="fa fa-check"></i><b>11.3.4</b> What value of the key fraction minimizes cross-validated MSE?</a></li>
<li class="chapter" data-level="11.3.5" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#coefficients-for-the-model-identified-by-the-cross-validation"><i class="fa fa-check"></i><b>11.3.5</b> Coefficients for the Model Identified by the Cross-Validation</a></li>
<li class="chapter" data-level="11.3.6" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#obtaining-fitted-values-from-lasso"><i class="fa fa-check"></i><b>11.3.6</b> Obtaining Fitted Values from Lasso</a></li>
<li class="chapter" data-level="11.3.7" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#complete-set-of-fitted-values-from-the-lasso"><i class="fa fa-check"></i><b>11.3.7</b> Complete Set of Fitted Values from the Lasso</a></li>
<li class="chapter" data-level="11.3.8" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#when-is-the-lasso-most-useful"><i class="fa fa-check"></i><b>11.3.8</b> When is the Lasso Most Useful?</a></li>
</ul></li>
<li class="chapter" data-level="11.4" data-path="other-variable-selection-strategies.html"><a href="other-variable-selection-strategies.html#applying-the-lasso-to-the-pollution-data"><i class="fa fa-check"></i><b>11.4</b> Applying the Lasso to the <code>pollution</code> data</a></li>
</ul></li>
<li class="chapter" data-level="12" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html"><i class="fa fa-check"></i><b>12</b> Logistic Regression: The Foundations</a><ul>
<li class="chapter" data-level="12.1" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#a-first-attempt-a-linear-probability-model"><i class="fa fa-check"></i><b>12.1</b> A First Attempt: A Linear Probability Model</a></li>
<li class="chapter" data-level="12.2" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#logistic-regression"><i class="fa fa-check"></i><b>12.2</b> Logistic Regression</a></li>
<li class="chapter" data-level="12.3" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#the-logistic-regression-model"><i class="fa fa-check"></i><b>12.3</b> The Logistic Regression Model</a></li>
<li class="chapter" data-level="12.4" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#the-link-function"><i class="fa fa-check"></i><b>12.4</b> The Link Function</a></li>
<li class="chapter" data-level="12.5" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#the-logit-or-log-odds"><i class="fa fa-check"></i><b>12.5</b> The logit or log odds</a></li>
<li class="chapter" data-level="12.6" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#interpreting-the-coefficients-of-a-logistic-regression-model"><i class="fa fa-check"></i><b>12.6</b> Interpreting the Coefficients of a Logistic Regression Model</a></li>
<li class="chapter" data-level="12.7" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#the-logistic-regression-has-non-constant-variance"><i class="fa fa-check"></i><b>12.7</b> The Logistic Regression has non-constant variance</a></li>
<li class="chapter" data-level="12.8" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#fitting-a-logistic-regression-model-to-our-simulated-data"><i class="fa fa-check"></i><b>12.8</b> Fitting a Logistic Regression Model to our Simulated Data</a></li>
<li class="chapter" data-level="12.9" data-path="logistic-regression-the-foundations.html"><a href="logistic-regression-the-foundations.html#plotting-the-logistic-regression-model"><i class="fa fa-check"></i><b>12.9</b> Plotting the Logistic Regression Model</a></li>
</ul></li>
<li class="chapter" data-level="13" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html"><i class="fa fa-check"></i><b>13</b> Logistic Regression and the <code>resect</code> data</a><ul>
<li class="chapter" data-level="13.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#the-resect-data"><i class="fa fa-check"></i><b>13.1</b> The <code>resect</code> data</a></li>
<li class="chapter" data-level="13.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#running-a-simple-logistic-regression-model"><i class="fa fa-check"></i><b>13.2</b> Running A Simple Logistic Regression Model</a><ul>
<li class="chapter" data-level="13.2.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#logistic-regression-can-be-harder-than-linear-regression"><i class="fa fa-check"></i><b>13.2.1</b> Logistic Regression Can Be Harder than Linear Regression</a></li>
</ul></li>
<li class="chapter" data-level="13.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#logistic-regression-using-glm"><i class="fa fa-check"></i><b>13.3</b> Logistic Regression using <code>glm</code></a><ul>
<li class="chapter" data-level="13.3.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-the-coefficients-of-a-logistic-regression-model-1"><i class="fa fa-check"></i><b>13.3.1</b> Interpreting the Coefficients of a Logistic Regression Model</a></li>
<li class="chapter" data-level="13.3.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#using-predict-to-describe-the-models-fits"><i class="fa fa-check"></i><b>13.3.2</b> Using <code>predict</code> to describe the model’s fits</a></li>
<li class="chapter" data-level="13.3.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#odds-ratio-interpretation-of-coefficients"><i class="fa fa-check"></i><b>13.3.3</b> Odds Ratio interpretation of Coefficients</a></li>
<li class="chapter" data-level="13.3.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-the-rest-of-the-model-output-from-glm"><i class="fa fa-check"></i><b>13.3.4</b> Interpreting the rest of the model output from <code>glm</code></a></li>
<li class="chapter" data-level="13.3.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#deviance-and-comparing-our-model-to-the-null-model"><i class="fa fa-check"></i><b>13.3.5</b> Deviance and Comparing Our Model to the Null Model</a></li>
<li class="chapter" data-level="13.3.6" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#using-glance-with-a-logistic-regression-model"><i class="fa fa-check"></i><b>13.3.6</b> Using <code>glance</code> with a logistic regression model</a></li>
</ul></li>
<li class="chapter" data-level="13.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-the-model-summary"><i class="fa fa-check"></i><b>13.4</b> Interpreting the Model Summary</a><ul>
<li class="chapter" data-level="13.4.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#wald-z-tests-for-coefficients-in-a-logistic-regression"><i class="fa fa-check"></i><b>13.4.1</b> Wald Z tests for Coefficients in a Logistic Regression</a></li>
<li class="chapter" data-level="13.4.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#confidence-intervals-for-the-coefficients"><i class="fa fa-check"></i><b>13.4.2</b> Confidence Intervals for the Coefficients</a></li>
<li class="chapter" data-level="13.4.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#deviance-residuals"><i class="fa fa-check"></i><b>13.4.3</b> Deviance Residuals</a></li>
<li class="chapter" data-level="13.4.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#dispersion-parameter"><i class="fa fa-check"></i><b>13.4.4</b> Dispersion Parameter</a></li>
<li class="chapter" data-level="13.4.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#fisher-scoring-iterations"><i class="fa fa-check"></i><b>13.4.5</b> Fisher Scoring iterations</a></li>
</ul></li>
<li class="chapter" data-level="13.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-a-simple-logistic-regression-model"><i class="fa fa-check"></i><b>13.5</b> Plotting a Simple Logistic Regression Model</a><ul>
<li class="chapter" data-level="13.5.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#using-augment-to-capture-the-fitted-probabilities"><i class="fa fa-check"></i><b>13.5.1</b> Using <code>augment</code> to capture the fitted probabilities</a></li>
<li class="chapter" data-level="13.5.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-a-logistic-regression-models-fitted-values"><i class="fa fa-check"></i><b>13.5.2</b> Plotting a Logistic Regression Model’s Fitted Values</a></li>
<li class="chapter" data-level="13.5.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-a-simple-logistic-model-using-binomial_smooth"><i class="fa fa-check"></i><b>13.5.3</b> Plotting a Simple Logistic Model using <code>binomial_smooth</code></a></li>
</ul></li>
<li class="chapter" data-level="13.6" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#how-well-does-model-a-classify-subjects"><i class="fa fa-check"></i><b>13.6</b> How well does Model A classify subjects?</a></li>
<li class="chapter" data-level="13.7" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#receiver-operating-characteristic-curve-analysis"><i class="fa fa-check"></i><b>13.7</b> Receiver Operating Characteristic Curve Analysis</a><ul>
<li class="chapter" data-level="13.7.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-the-area-under-the-roc-curve"><i class="fa fa-check"></i><b>13.7.1</b> Interpreting the Area under the ROC curve</a></li>
</ul></li>
<li class="chapter" data-level="13.8" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#the-roc-plot-for-res_moda"><i class="fa fa-check"></i><b>13.8</b> The ROC Plot for <code>res_modA</code></a><ul>
<li class="chapter" data-level="13.8.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#another-way-to-plot-the-roc-curve"><i class="fa fa-check"></i><b>13.8.1</b> Another way to plot the ROC Curve</a></li>
</ul></li>
<li class="chapter" data-level="13.9" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#assessing-residual-plots-from-model-a"><i class="fa fa-check"></i><b>13.9</b> Assessing Residual Plots from Model A</a></li>
<li class="chapter" data-level="13.10" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#model-b-a-kitchen-sink-logistic-regression-model"><i class="fa fa-check"></i><b>13.10</b> Model B: A “Kitchen Sink” Logistic Regression Model</a><ul>
<li class="chapter" data-level="13.10.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#comparing-model-a-to-model-b"><i class="fa fa-check"></i><b>13.10.1</b> Comparing Model A to Model B</a></li>
<li class="chapter" data-level="13.10.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-model-b"><i class="fa fa-check"></i><b>13.10.2</b> Interpreting Model B</a></li>
</ul></li>
<li class="chapter" data-level="13.11" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-model-b"><i class="fa fa-check"></i><b>13.11</b> Plotting Model B</a><ul>
<li class="chapter" data-level="13.11.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#using-augment-to-capture-the-fitted-probabilities-1"><i class="fa fa-check"></i><b>13.11.1</b> Using <code>augment</code> to capture the fitted probabilities</a></li>
<li class="chapter" data-level="13.11.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-model-b-fits-by-observed-mortality"><i class="fa fa-check"></i><b>13.11.2</b> Plotting Model B Fits by Observed Mortality</a></li>
<li class="chapter" data-level="13.11.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#the-roc-curve-for-model-b"><i class="fa fa-check"></i><b>13.11.3</b> The ROC curve for Model B</a></li>
<li class="chapter" data-level="13.11.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#residuals-leverage-and-influence"><i class="fa fa-check"></i><b>13.11.4</b> Residuals, Leverage and Influence</a></li>
</ul></li>
<li class="chapter" data-level="13.12" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#logistic-regression-using-lrm"><i class="fa fa-check"></i><b>13.12</b> Logistic Regression using <code>lrm</code></a><ul>
<li class="chapter" data-level="13.12.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-nagelkerke-r2"><i class="fa fa-check"></i><b>13.12.1</b> Interpreting Nagelkerke R<sup>2</sup></a></li>
<li class="chapter" data-level="13.12.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#interpreting-the-c-statistic-and-plotting-the-roc-curve"><i class="fa fa-check"></i><b>13.12.2</b> Interpreting the C statistic and Plotting the ROC Curve</a></li>
<li class="chapter" data-level="13.12.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#the-c-statistic-and-somers-d"><i class="fa fa-check"></i><b>13.12.3</b> The C statistic and Somers’ D</a></li>
<li class="chapter" data-level="13.12.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#validating-the-logistic-regression-model-summary-statistics"><i class="fa fa-check"></i><b>13.12.4</b> Validating the Logistic Regression Model Summary Statistics</a></li>
<li class="chapter" data-level="13.12.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-the-summary-of-the-lrm-approach"><i class="fa fa-check"></i><b>13.12.5</b> Plotting the Summary of the <code>lrm</code> approach</a></li>
<li class="chapter" data-level="13.12.6" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plot-in-sample-predictions-for-model-c"><i class="fa fa-check"></i><b>13.12.6</b> Plot In-Sample Predictions for Model C</a></li>
<li class="chapter" data-level="13.12.7" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#anova-from-the-lrm-approach"><i class="fa fa-check"></i><b>13.12.7</b> ANOVA from the <code>lrm</code> approach</a></li>
<li class="chapter" data-level="13.12.8" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#are-any-points-particularly-influential"><i class="fa fa-check"></i><b>13.12.8</b> Are any points particularly influential?</a></li>
<li class="chapter" data-level="13.12.9" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#a-nomogram-for-model-c"><i class="fa fa-check"></i><b>13.12.9</b> A Nomogram for Model C</a></li>
</ul></li>
<li class="chapter" data-level="13.13" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#model-d-an-augmented-kitchen-sink-model"><i class="fa fa-check"></i><b>13.13</b> Model D: An Augmented Kitchen Sink Model</a><ul>
<li class="chapter" data-level="13.13.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#spearman-rho2-plot"><i class="fa fa-check"></i><b>13.13.1</b> Spearman <span class="math inline">\(\rho^2\)</span> Plot</a></li>
<li class="chapter" data-level="13.13.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#fitting-model-d-using-lrm"><i class="fa fa-check"></i><b>13.13.2</b> Fitting Model D using <code>lrm</code></a></li>
<li class="chapter" data-level="13.13.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#assessing-model-d-using-lrms-tools"><i class="fa fa-check"></i><b>13.13.3</b> Assessing Model D using <code>lrm</code>’s tools</a></li>
<li class="chapter" data-level="13.13.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#anova-and-wald-tests-for-model-d"><i class="fa fa-check"></i><b>13.13.4</b> ANOVA and Wald Tests for Model D</a></li>
<li class="chapter" data-level="13.13.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#effect-sizes-in-model-d"><i class="fa fa-check"></i><b>13.13.5</b> Effect Sizes in Model D</a></li>
<li class="chapter" data-level="13.13.6" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plot-in-sample-predictions-for-model-d"><i class="fa fa-check"></i><b>13.13.6</b> Plot In-Sample Predictions for Model D</a></li>
<li class="chapter" data-level="13.13.7" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plotting-the-roc-curve-for-model-d"><i class="fa fa-check"></i><b>13.13.7</b> Plotting the ROC curve for Model D</a></li>
<li class="chapter" data-level="13.13.8" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#validation-of-model-d-summaries"><i class="fa fa-check"></i><b>13.13.8</b> Validation of Model D summaries</a></li>
</ul></li>
<li class="chapter" data-level="13.14" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#model-e-fitting-a-reduced-model-in-light-of-model-d"><i class="fa fa-check"></i><b>13.14</b> Model E: Fitting a Reduced Model in light of Model D</a><ul>
<li class="chapter" data-level="13.14.1" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#a-plot-comparing-the-two-intubation-groups"><i class="fa fa-check"></i><b>13.14.1</b> A Plot comparing the two intubation groups</a></li>
<li class="chapter" data-level="13.14.2" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#nomogram-for-model-e"><i class="fa fa-check"></i><b>13.14.2</b> Nomogram for Model E</a></li>
<li class="chapter" data-level="13.14.3" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#effect-sizes-from-model-e"><i class="fa fa-check"></i><b>13.14.3</b> Effect Sizes from Model E</a></li>
<li class="chapter" data-level="13.14.4" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#plot-in-sample-predictions-for-model-e"><i class="fa fa-check"></i><b>13.14.4</b> Plot In-Sample Predictions for Model E</a></li>
<li class="chapter" data-level="13.14.5" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#anova-for-model-e"><i class="fa fa-check"></i><b>13.14.5</b> ANOVA for Model E</a></li>
<li class="chapter" data-level="13.14.6" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#validation-of-model-e"><i class="fa fa-check"></i><b>13.14.6</b> Validation of Model E</a></li>
<li class="chapter" data-level="13.14.7" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#do-any-points-seem-particularly-influential"><i class="fa fa-check"></i><b>13.14.7</b> Do any points seem particularly influential?</a></li>
<li class="chapter" data-level="13.14.8" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#fitting-model-e-using-glm-to-get-plots-about-influence"><i class="fa fa-check"></i><b>13.14.8</b> Fitting Model E using <code>glm</code> to get plots about influence</a></li>
</ul></li>
<li class="chapter" data-level="13.15" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#concordance-comparing-model-c-d-and-es-predictions"><i class="fa fa-check"></i><b>13.15</b> Concordance: Comparing Model C, D and E’s predictions</a></li>
<li class="chapter" data-level="13.16" data-path="logistic-regression-and-the-resect-data.html"><a href="logistic-regression-and-the-resect-data.html#conclusions"><i class="fa fa-check"></i><b>13.16</b> Conclusions</a></li>
</ul></li>
<li class="chapter" data-level="14" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html"><i class="fa fa-check"></i><b>14</b> Logistic Regression and the <code>smartcle1</code> data</a><ul>
<li class="chapter" data-level="14.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#the-smartcle1-data"><i class="fa fa-check"></i><b>14.1</b> The <code>smartcle1</code> data</a></li>
<li class="chapter" data-level="14.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#thinking-about-non-linear-terms"><i class="fa fa-check"></i><b>14.2</b> Thinking About Non-Linear Terms</a></li>
<li class="chapter" data-level="14.3" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#a-first-model-for-exerany-complete-case-analysis"><i class="fa fa-check"></i><b>14.3</b> A First Model for <code>exerany</code> (Complete Case Analysis)</a></li>
<li class="chapter" data-level="14.4" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#building-a-larger-model-spearman-rho2-plot"><i class="fa fa-check"></i><b>14.4</b> Building a Larger Model: Spearman <span class="math inline">\(\rho^2\)</span> Plot</a></li>
<li class="chapter" data-level="14.5" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#a-second-model-for-exerany-complete-cases"><i class="fa fa-check"></i><b>14.5</b> A Second Model for <code>exerany</code> (Complete Cases)</a></li>
<li class="chapter" data-level="14.6" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#dealing-with-missing-data-via-simple-imputation"><i class="fa fa-check"></i><b>14.6</b> Dealing with Missing Data via Simple Imputation</a><ul>
<li class="chapter" data-level="14.6.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#omit-cases-where-the-outcome-is-missing"><i class="fa fa-check"></i><b>14.6.1</b> Omit cases where the outcome is missing</a></li>
<li class="chapter" data-level="14.6.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#plot-the-remaining-missingness"><i class="fa fa-check"></i><b>14.6.2</b> Plot the remaining missingness</a></li>
<li class="chapter" data-level="14.6.3" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#use-simple-imputation-build-a-new-data-set"><i class="fa fa-check"></i><b>14.6.3</b> Use simple imputation, build a new data set</a></li>
</ul></li>
<li class="chapter" data-level="14.7" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#refitting-model-1-with-simply-imputed-data"><i class="fa fa-check"></i><b>14.7</b> Refitting Model 1 with simply imputed data</a><ul>
<li class="chapter" data-level="14.7.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#validating-summary-statistics"><i class="fa fa-check"></i><b>14.7.1</b> Validating Summary Statistics</a></li>
<li class="chapter" data-level="14.7.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#anova-for-the-model"><i class="fa fa-check"></i><b>14.7.2</b> ANOVA for the model</a></li>
<li class="chapter" data-level="14.7.3" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#summarizing-effect-size"><i class="fa fa-check"></i><b>14.7.3</b> Summarizing Effect Size</a></li>
<li class="chapter" data-level="14.7.4" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#plotting-the-model-with-ggplot-and-predict"><i class="fa fa-check"></i><b>14.7.4</b> Plotting the Model with <code>ggplot</code> and <code>Predict</code></a></li>
<li class="chapter" data-level="14.7.5" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#plotting-the-model-with-a-nomogram"><i class="fa fa-check"></i><b>14.7.5</b> Plotting the model with a nomogram</a></li>
<li class="chapter" data-level="14.7.6" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#checking-the-goodness-of-fit-of-our-model"><i class="fa fa-check"></i><b>14.7.6</b> Checking the Goodness of Fit of our model</a></li>
</ul></li>
<li class="chapter" data-level="14.8" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#refitting-model-2-with-simply-imputed-data"><i class="fa fa-check"></i><b>14.8</b> Refitting Model 2 with simply imputed data</a><ul>
<li class="chapter" data-level="14.8.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#validating-summary-statistics-1"><i class="fa fa-check"></i><b>14.8.1</b> Validating Summary Statistics</a></li>
<li class="chapter" data-level="14.8.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#anova-for-the-model-1"><i class="fa fa-check"></i><b>14.8.2</b> ANOVA for the model</a></li>
<li class="chapter" data-level="14.8.3" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#summarizing-effect-size-1"><i class="fa fa-check"></i><b>14.8.3</b> Summarizing Effect Size</a></li>
<li class="chapter" data-level="14.8.4" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#plotting-the-model-with-ggplot-and-predict-1"><i class="fa fa-check"></i><b>14.8.4</b> Plotting the Model with <code>ggplot</code> and <code>Predict</code></a></li>
<li class="chapter" data-level="14.8.5" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#plotting-the-model-with-a-nomogram-1"><i class="fa fa-check"></i><b>14.8.5</b> Plotting the model with a nomogram</a></li>
<li class="chapter" data-level="14.8.6" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#checking-the-goodness-of-fit-of-our-model-1"><i class="fa fa-check"></i><b>14.8.6</b> Checking the Goodness of Fit of our model</a></li>
</ul></li>
<li class="chapter" data-level="14.9" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#comparing-model-2-to-model-1-after-simple-imputation"><i class="fa fa-check"></i><b>14.9</b> Comparing Model 2 to Model 1 after simple imputation</a><ul>
<li class="chapter" data-level="14.9.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#comparison-by-analysis-of-deviance"><i class="fa fa-check"></i><b>14.9.1</b> Comparison by Analysis of Deviance</a></li>
<li class="chapter" data-level="14.9.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#comparing-aic-and-bic"><i class="fa fa-check"></i><b>14.9.2</b> Comparing AIC and BIC</a></li>
</ul></li>
<li class="chapter" data-level="14.10" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#dealing-with-missing-data-via-multiple-imputation"><i class="fa fa-check"></i><b>14.10</b> Dealing with Missing Data via Multiple Imputation</a><ul>
<li class="chapter" data-level="14.10.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#using-aregimpute-to-fit-a-multiple-imputation-model"><i class="fa fa-check"></i><b>14.10.1</b> Using <code>aregImpute</code> to fit a multiple imputation model</a></li>
</ul></li>
<li class="chapter" data-level="14.11" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#combining-the-imputation-and-outcome-models"><i class="fa fa-check"></i><b>14.11</b> Combining the Imputation and Outcome Models</a><ul>
<li class="chapter" data-level="14.11.1" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#model-1-with-multiple-imputation"><i class="fa fa-check"></i><b>14.11.1</b> Model 1 with Multiple Imputation</a></li>
<li class="chapter" data-level="14.11.2" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#model-2-with-multiple-imputation"><i class="fa fa-check"></i><b>14.11.2</b> Model 2 with Multiple Imputation</a></li>
</ul></li>
<li class="chapter" data-level="14.12" data-path="logistic-regression-and-the-smartcle1-data.html"><a href="logistic-regression-and-the-smartcle1-data.html#models-with-and-without-imputation"><i class="fa fa-check"></i><b>14.12</b> Models with and without Imputation</a></li>
</ul></li>
<li class="chapter" data-level="15" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html"><i class="fa fa-check"></i><b>15</b> Linear Regression and the <code>smartcle1</code> data</a><ul>
<li class="chapter" data-level="15.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#the-smartcle1-data-1"><i class="fa fa-check"></i><b>15.1</b> The <code>smartcle1</code> data</a></li>
<li class="chapter" data-level="15.2" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#thinking-about-non-linear-terms-1"><i class="fa fa-check"></i><b>15.2</b> Thinking About Non-Linear Terms</a></li>
<li class="chapter" data-level="15.3" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#a-first-model-for-sleephrs-complete-case-analysis"><i class="fa fa-check"></i><b>15.3</b> A First Model for <code>sleephrs</code> (Complete Case Analysis)</a></li>
<li class="chapter" data-level="15.4" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#building-a-larger-model-spearman-rho2-plot-1"><i class="fa fa-check"></i><b>15.4</b> Building a Larger Model: Spearman <span class="math inline">\(\rho^2\)</span> Plot</a></li>
<li class="chapter" data-level="15.5" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#a-second-model-for-sleephrs-complete-cases"><i class="fa fa-check"></i><b>15.5</b> A Second Model for <code>sleephrs</code> (Complete Cases)</a></li>
<li class="chapter" data-level="15.6" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#dealing-with-missing-data-via-simple-imputation-1"><i class="fa fa-check"></i><b>15.6</b> Dealing with Missing Data via Simple Imputation</a><ul>
<li class="chapter" data-level="15.6.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#omit-cases-where-the-outcome-is-missing-1"><i class="fa fa-check"></i><b>15.6.1</b> Omit cases where the outcome is missing</a></li>
<li class="chapter" data-level="15.6.2" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#plot-the-remaining-missingness-1"><i class="fa fa-check"></i><b>15.6.2</b> Plot the remaining missingness</a></li>
<li class="chapter" data-level="15.6.3" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#use-simple-imputation-build-a-new-data-set-1"><i class="fa fa-check"></i><b>15.6.3</b> Use simple imputation, build a new data set</a></li>
</ul></li>
<li class="chapter" data-level="15.7" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#refitting-model-a-with-simply-imputed-data"><i class="fa fa-check"></i><b>15.7</b> Refitting Model A with simply imputed data</a><ul>
<li class="chapter" data-level="15.7.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#validating-summary-statistics-2"><i class="fa fa-check"></i><b>15.7.1</b> Validating Summary Statistics</a></li>
<li class="chapter" data-level="15.7.2" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#anova-for-the-model-2"><i class="fa fa-check"></i><b>15.7.2</b> ANOVA for the model</a></li>
<li class="chapter" data-level="15.7.3" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#summarizing-effect-size-2"><i class="fa fa-check"></i><b>15.7.3</b> Summarizing Effect Size</a></li>
<li class="chapter" data-level="15.7.4" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#plotting-the-model-with-ggplot-and-predict-2"><i class="fa fa-check"></i><b>15.7.4</b> Plotting the Model with <code>ggplot</code> and <code>Predict</code></a></li>
<li class="chapter" data-level="15.7.5" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#plotting-the-model-with-a-nomogram-2"><i class="fa fa-check"></i><b>15.7.5</b> Plotting the model with a nomogram</a></li>
<li class="chapter" data-level="15.7.6" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#residual-plots-for-mod.a2"><i class="fa fa-check"></i><b>15.7.6</b> Residual Plots for mod.A2</a></li>
</ul></li>
<li class="chapter" data-level="15.8" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#refitting-model-b-with-simply-imputed-data"><i class="fa fa-check"></i><b>15.8</b> Refitting Model B with simply imputed data</a><ul>
<li class="chapter" data-level="15.8.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#validating-summary-statistics-3"><i class="fa fa-check"></i><b>15.8.1</b> Validating Summary Statistics</a></li>
<li class="chapter" data-level="15.8.2" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#anova-for-the-model-3"><i class="fa fa-check"></i><b>15.8.2</b> ANOVA for the model</a></li>
<li class="chapter" data-level="15.8.3" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#summarizing-effect-size-3"><i class="fa fa-check"></i><b>15.8.3</b> Summarizing Effect Size</a></li>
<li class="chapter" data-level="15.8.4" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#plotting-the-model-with-ggplot-and-predict-3"><i class="fa fa-check"></i><b>15.8.4</b> Plotting the Model with <code>ggplot</code> and <code>Predict</code></a></li>
</ul></li>
<li class="chapter" data-level="15.9" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#comparing-model-b.2-to-model-a.2-after-simple-imputation"><i class="fa fa-check"></i><b>15.9</b> Comparing Model B.2 to Model A.2 after simple imputation</a><ul>
<li class="chapter" data-level="15.9.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#comparison-by-analysis-of-variance"><i class="fa fa-check"></i><b>15.9.1</b> Comparison by Analysis of Variance</a></li>
<li class="chapter" data-level="15.9.2" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#comparing-aic-and-bic-1"><i class="fa fa-check"></i><b>15.9.2</b> Comparing AIC and BIC</a></li>
</ul></li>
<li class="chapter" data-level="15.10" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#dealing-with-missing-data-via-multiple-imputation-1"><i class="fa fa-check"></i><b>15.10</b> Dealing with Missing Data via Multiple Imputation</a><ul>
<li class="chapter" data-level="15.10.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#using-aregimpute-to-fit-a-multiple-imputation-model-1"><i class="fa fa-check"></i><b>15.10.1</b> Using <code>aregImpute</code> to fit a multiple imputation model</a></li>
</ul></li>
<li class="chapter" data-level="15.11" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#combining-the-imputation-and-outcome-models-1"><i class="fa fa-check"></i><b>15.11</b> Combining the Imputation and Outcome Models</a><ul>
<li class="chapter" data-level="15.11.1" data-path="linear-regression-and-the-smartcle1-data.html"><a href="linear-regression-and-the-smartcle1-data.html#model-a-with-multiple-imputation"><i class="fa fa-check"></i><b>15.11.1</b> Model A with Multiple Imputation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="16" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html"><i class="fa fa-check"></i><b>16</b> Colorectal Cancer Screening and Some Special Cases</a><ul>
<li class="chapter" data-level="16.1" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#logistic-regression-for-aggregated-data"><i class="fa fa-check"></i><b>16.1</b> Logistic Regression for Aggregated Data</a><ul>
<li class="chapter" data-level="16.1.1" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#colorectal-cancer-screening-data"><i class="fa fa-check"></i><b>16.1.1</b> Colorectal Cancer Screening Data</a></li>
<li class="chapter" data-level="16.1.2" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#fitting-a-logistic-regression-model-to-proportion-data"><i class="fa fa-check"></i><b>16.1.2</b> Fitting a Logistic Regression Model to Proportion Data</a></li>
<li class="chapter" data-level="16.1.3" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#fitting-a-logistic-regression-model-to-counts-of-successes-and-failures"><i class="fa fa-check"></i><b>16.1.3</b> Fitting a Logistic Regression Model to Counts of Successes and Failures</a></li>
<li class="chapter" data-level="16.1.4" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#how-does-one-address-this-problem-in-rms"><i class="fa fa-check"></i><b>16.1.4</b> How does one address this problem in <code>rms</code>?</a></li>
</ul></li>
<li class="chapter" data-level="16.2" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#probit-regression"><i class="fa fa-check"></i><b>16.2</b> Probit Regression</a><ul>
<li class="chapter" data-level="16.2.1" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#colorectal-cancer-screening-data-on-individuals"><i class="fa fa-check"></i><b>16.2.1</b> Colorectal Cancer Screening Data on Individuals</a></li>
<li class="chapter" data-level="16.2.2" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#a-logistic-regression-model"><i class="fa fa-check"></i><b>16.2.2</b> A logistic regression model</a></li>
<li class="chapter" data-level="16.2.3" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#predicting-status-for-harry-and-sally"><i class="fa fa-check"></i><b>16.2.3</b> Predicting status for Harry and Sally</a></li>
<li class="chapter" data-level="16.2.4" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#a-probit-regression-model"><i class="fa fa-check"></i><b>16.2.4</b> A probit regression model</a></li>
<li class="chapter" data-level="16.2.5" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#interpreting-the-probit-models-coefficients"><i class="fa fa-check"></i><b>16.2.5</b> Interpreting the Probit Model’s Coefficients</a></li>
<li class="chapter" data-level="16.2.6" data-path="colorectal-cancer-screening-and-some-special-cases.html"><a href="colorectal-cancer-screening-and-some-special-cases.html#what-about-harry-and-sally"><i class="fa fa-check"></i><b>16.2.6</b> What about Harry and Sally?</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="17" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html"><i class="fa fa-check"></i><b>17</b> Cleaning the BRFSS SMART Data</a><ul>
<li class="chapter" data-level="17.1" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#key-resources-1"><i class="fa fa-check"></i><b>17.1</b> Key resources</a></li>
<li class="chapter" data-level="17.2" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#ingesting-the-raw-data"><i class="fa fa-check"></i><b>17.2</b> Ingesting The Raw Data</a></li>
<li class="chapter" data-level="17.3" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#the-national-data"><i class="fa fa-check"></i><b>17.3</b> The National Data</a></li>
<li class="chapter" data-level="17.4" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#cleaning-the-brfss-data"><i class="fa fa-check"></i><b>17.4</b> Cleaning the BRFSS Data</a><ul>
<li class="chapter" data-level="17.4.1" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#health-status-1-item"><i class="fa fa-check"></i><b>17.4.1</b> Health Status (1 item)</a></li>
<li class="chapter" data-level="17.4.2" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#healthy-days---health-related-quality-of-life-3-items"><i class="fa fa-check"></i><b>17.4.2</b> Healthy Days - Health-Related Quality of Life (3 items)</a></li>
<li class="chapter" data-level="17.4.3" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#health-care-access-4-items"><i class="fa fa-check"></i><b>17.4.3</b> Health Care Access (4 items)</a></li>
<li class="chapter" data-level="17.4.4" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#exercise-1-item"><i class="fa fa-check"></i><b>17.4.4</b> Exercise (1 item)</a></li>
<li class="chapter" data-level="17.4.5" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#inadequate-sleep-1-item"><i class="fa fa-check"></i><b>17.4.5</b> Inadequate Sleep (1 item)</a></li>
<li class="chapter" data-level="17.4.6" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#chronic-health-conditions-13-items"><i class="fa fa-check"></i><b>17.4.6</b> Chronic Health Conditions (13 items)</a></li>
<li class="chapter" data-level="17.4.7" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#oral-health-2-items"><i class="fa fa-check"></i><b>17.4.7</b> Oral Health (2 items)</a></li>
<li class="chapter" data-level="17.4.8" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#demographics-23-items"><i class="fa fa-check"></i><b>17.4.8</b> Demographics (23 items)</a></li>
<li class="chapter" data-level="17.4.9" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#tobacco-use-5-items"><i class="fa fa-check"></i><b>17.4.9</b> Tobacco Use (5 items)</a></li>
<li class="chapter" data-level="17.4.10" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#e-cigarettes-2-items"><i class="fa fa-check"></i><b>17.4.10</b> E-Cigarettes (2 items)</a></li>
<li class="chapter" data-level="17.4.11" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#alcohol-consumption-4-items"><i class="fa fa-check"></i><b>17.4.11</b> Alcohol Consumption (4 items)</a></li>
<li class="chapter" data-level="17.4.12" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#immunization-4-items"><i class="fa fa-check"></i><b>17.4.12</b> Immunization (4 items)</a></li>
<li class="chapter" data-level="17.4.13" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#falls-2-items"><i class="fa fa-check"></i><b>17.4.13</b> Falls (2 items)</a></li>
<li class="chapter" data-level="17.4.14" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#seatbelt-use-1-item"><i class="fa fa-check"></i><b>17.4.14</b> Seatbelt Use (1 item)</a></li>
<li class="chapter" data-level="17.4.15" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#drinking-and-driving-1-item"><i class="fa fa-check"></i><b>17.4.15</b> Drinking and Driving (1 item)</a></li>
<li class="chapter" data-level="17.4.16" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#breast-and-cervical-cancer-screening-7-items"><i class="fa fa-check"></i><b>17.4.16</b> Breast and Cervical Cancer Screening (7 items)</a></li>
<li class="chapter" data-level="17.4.17" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#prostate-cancer-screening-6-items"><i class="fa fa-check"></i><b>17.4.17</b> Prostate Cancer Screening (6 items)</a></li>
<li class="chapter" data-level="17.4.18" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#colorectal-cancer-screening-5-items"><i class="fa fa-check"></i><b>17.4.18</b> Colorectal Cancer Screening (5 items)</a></li>
<li class="chapter" data-level="17.4.19" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#hivaids-3-items"><i class="fa fa-check"></i><b>17.4.19</b> HIV/AIDS (3 items)</a></li>
</ul></li>
<li class="chapter" data-level="17.5" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#creating-some-quantitative-variables-from-thin-air"><i class="fa fa-check"></i><b>17.5</b> Creating Some Quantitative Variables from Thin Air</a><ul>
<li class="chapter" data-level="17.5.1" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#age_imp-creating-age-data-out-of-thin-air"><i class="fa fa-check"></i><b>17.5.1</b> <code>age_imp</code>: Creating Age Data out of Thin Air</a></li>
</ul></li>
<li class="chapter" data-level="17.6" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#clean-data-in-the-state-of-ohio"><i class="fa fa-check"></i><b>17.6</b> Clean Data in the State of Ohio</a></li>
<li class="chapter" data-level="17.7" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#clean-cleveland-elyria-data"><i class="fa fa-check"></i><b>17.7</b> Clean Cleveland-Elyria Data</a><ul>
<li class="chapter" data-level="17.7.1" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#cleveland---elyria-raw-data"><i class="fa fa-check"></i><b>17.7.1</b> Cleveland - Elyria Raw Data</a></li>
<li class="chapter" data-level="17.7.2" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#clean-data---larger"><i class="fa fa-check"></i><b>17.7.2</b> Clean Data - Larger</a></li>
<li class="chapter" data-level="17.7.3" data-path="cleaning-the-brfss-smart-data.html"><a href="cleaning-the-brfss-smart-data.html#creation-of-the-smartcle1.csv-data"><i class="fa fa-check"></i><b>17.7.3</b> Creation of the <code>smartcle1.csv</code> data</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="18" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html"><i class="fa fa-check"></i><b>18</b> Modeling a Count Outcome in Ohio SMART</a><ul>
<li class="chapter" data-level="18.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#preliminaries"><i class="fa fa-check"></i><b>18.1</b> Preliminaries</a></li>
<li class="chapter" data-level="18.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#a-subset-of-the-ohio-smart-data"><i class="fa fa-check"></i><b>18.2</b> A subset of the Ohio SMART data</a><ul>
<li class="chapter" data-level="18.2.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#is-age-group-associated-with-physhealth"><i class="fa fa-check"></i><b>18.2.1</b> Is age group associated with <code>physhealth</code>?</a></li>
</ul></li>
<li class="chapter" data-level="18.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#exploratory-data-analysis-in-the-18-49-group"><i class="fa fa-check"></i><b>18.3</b> Exploratory Data Analysis (in the 18-49 group)</a><ul>
<li class="chapter" data-level="18.3.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#build-a-subset-of-those-ages-18-49"><i class="fa fa-check"></i><b>18.3.1</b> Build a subset of those ages 18-49</a></li>
<li class="chapter" data-level="18.3.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#distribution-of-the-outcome"><i class="fa fa-check"></i><b>18.3.2</b> Distribution of the Outcome</a></li>
<li class="chapter" data-level="18.3.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#initial-scatterplot-matrix"><i class="fa fa-check"></i><b>18.3.3</b> Initial Scatterplot Matrix</a></li>
<li class="chapter" data-level="18.3.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#dropping-the-subject-with-an-unreasonably-large-bmi"><i class="fa fa-check"></i><b>18.3.4</b> Dropping the subject with an unreasonably large <code>bmi</code></a></li>
<li class="chapter" data-level="18.3.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#revised-final-scatterplot-matrix"><i class="fa fa-check"></i><b>18.3.5</b> Revised (Final) Scatterplot Matrix</a></li>
<li class="chapter" data-level="18.3.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#summary-of-the-final-subset-of-data"><i class="fa fa-check"></i><b>18.3.6</b> Summary of the final subset of data</a></li>
</ul></li>
<li class="chapter" data-level="18.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#modeling-strategies-explored-here"><i class="fa fa-check"></i><b>18.4</b> Modeling Strategies Explored Here</a><ul>
<li class="chapter" data-level="18.4.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#what-will-we-demonstrate"><i class="fa fa-check"></i><b>18.4.1</b> What Will We Demonstrate?</a></li>
<li class="chapter" data-level="18.4.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#extra-data-file-for-harry-and-sally"><i class="fa fa-check"></i><b>18.4.2</b> Extra Data File for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-ols-approach"><i class="fa fa-check"></i><b>18.5</b> The OLS Approach</a><ul>
<li class="chapter" data-level="18.5.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation"><i class="fa fa-check"></i><b>18.5.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.5.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients"><i class="fa fa-check"></i><b>18.5.2</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.5.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors"><i class="fa fa-check"></i><b>18.5.3</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.5.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals"><i class="fa fa-check"></i><b>18.5.4</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.5.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-loglikelihood-values"><i class="fa fa-check"></i><b>18.5.5</b> Specify the R<sup>2</sup> and log(likelihood) values</a></li>
<li class="chapter" data-level="18.5.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions"><i class="fa fa-check"></i><b>18.5.6</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.5.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally"><i class="fa fa-check"></i><b>18.5.7</b> Predictions for Harry and Sally</a></li>
<li class="chapter" data-level="18.5.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#notes"><i class="fa fa-check"></i><b>18.5.8</b> Notes</a></li>
</ul></li>
<li class="chapter" data-level="18.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#ols-model-on-logphyshealth-1-days"><i class="fa fa-check"></i><b>18.6</b> OLS model on log(<code>physhealth</code> + 1) days</a><ul>
<li class="chapter" data-level="18.6.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-1"><i class="fa fa-check"></i><b>18.6.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.6.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-1"><i class="fa fa-check"></i><b>18.6.2</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.6.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-1"><i class="fa fa-check"></i><b>18.6.3</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.6.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-1"><i class="fa fa-check"></i><b>18.6.4</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.6.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-loglikelihood-values-1"><i class="fa fa-check"></i><b>18.6.5</b> Specify the R<sup>2</sup> and log(likelihood) values</a></li>
<li class="chapter" data-level="18.6.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#getting-r2-on-the-scale-of-physhealth"><i class="fa fa-check"></i><b>18.6.6</b> Getting R<sup>2</sup> on the scale of <code>physhealth</code></a></li>
<li class="chapter" data-level="18.6.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-1"><i class="fa fa-check"></i><b>18.6.7</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.6.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-1"><i class="fa fa-check"></i><b>18.6.8</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#a-poisson-regression-model"><i class="fa fa-check"></i><b>18.7</b> A Poisson Regression Model</a><ul>
<li class="chapter" data-level="18.7.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-2"><i class="fa fa-check"></i><b>18.7.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.7.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-2"><i class="fa fa-check"></i><b>18.7.2</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.7.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-2"><i class="fa fa-check"></i><b>18.7.3</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.7.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#correcting-for-overdispersion-with-coeftestcoefci"><i class="fa fa-check"></i><b>18.7.4</b> Correcting for Overdispersion with <code>coeftest</code>/<code>coefci</code></a></li>
<li class="chapter" data-level="18.7.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-2"><i class="fa fa-check"></i><b>18.7.5</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.7.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-see-the-fit-of-a-count-regression-model"><i class="fa fa-check"></i><b>18.7.6</b> Rootogram: see the fit of a count regression model</a></li>
<li class="chapter" data-level="18.7.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-loglikelihood-values-2"><i class="fa fa-check"></i><b>18.7.7</b> Specify the R<sup>2</sup> and log(likelihood) values</a></li>
<li class="chapter" data-level="18.7.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-2"><i class="fa fa-check"></i><b>18.7.8</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.7.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#using-glm.diag.plots-from-the-boot-package"><i class="fa fa-check"></i><b>18.7.9</b> Using <code>glm.diag.plots</code> from the <code>boot</code> package</a></li>
<li class="chapter" data-level="18.7.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-2"><i class="fa fa-check"></i><b>18.7.10</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#overdispersion-in-a-poisson-model"><i class="fa fa-check"></i><b>18.8</b> Overdispersion in a Poisson Model</a><ul>
<li class="chapter" data-level="18.8.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-for-overdispersion"><i class="fa fa-check"></i><b>18.8.1</b> Testing for Overdispersion?</a></li>
</ul></li>
<li class="chapter" data-level="18.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#fitting-the-quasi-poisson-model"><i class="fa fa-check"></i><b>18.9</b> Fitting the Quasi-Poisson Model</a><ul>
<li class="chapter" data-level="18.9.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-3"><i class="fa fa-check"></i><b>18.9.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.9.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-3"><i class="fa fa-check"></i><b>18.9.2</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.9.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-3"><i class="fa fa-check"></i><b>18.9.3</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.9.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-3"><i class="fa fa-check"></i><b>18.9.4</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.9.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-loglikelihood-values-3"><i class="fa fa-check"></i><b>18.9.5</b> Specify the R<sup>2</sup> and log(likelihood) values</a></li>
<li class="chapter" data-level="18.9.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-3"><i class="fa fa-check"></i><b>18.9.6</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.9.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-3"><i class="fa fa-check"></i><b>18.9.7</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#poisson-and-quasi-poisson-models-using-glm-from-the-rms-package"><i class="fa fa-check"></i><b>18.10</b> Poisson and Quasi-Poisson models using <code>Glm</code> from the <code>rms</code> package</a><ul>
<li class="chapter" data-level="18.10.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#refitting-the-original-poisson-regression-with-glm"><i class="fa fa-check"></i><b>18.10.1</b> Refitting the original Poisson regression with <code>Glm</code></a></li>
<li class="chapter" data-level="18.10.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#refitting-the-overdispersed-poisson-regression-with-glm"><i class="fa fa-check"></i><b>18.10.2</b> Refitting the overdispersed Poisson regression with <code>Glm</code></a></li>
<li class="chapter" data-level="18.10.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#anova-on-a-glm-fit"><i class="fa fa-check"></i><b>18.10.3</b> ANOVA on a <code>Glm</code> fit</a></li>
<li class="chapter" data-level="18.10.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#ggplots-from-glm-fit"><i class="fa fa-check"></i><b>18.10.4</b> ggplots from <code>Glm</code> fit</a></li>
<li class="chapter" data-level="18.10.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#summary-of-a-glm-fit"><i class="fa fa-check"></i><b>18.10.5</b> Summary of a <code>Glm</code> fit</a></li>
<li class="chapter" data-level="18.10.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#plot-of-the-summary"><i class="fa fa-check"></i><b>18.10.6</b> Plot of the Summary</a></li>
<li class="chapter" data-level="18.10.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#nomogram-of-a-glm-fit"><i class="fa fa-check"></i><b>18.10.7</b> Nomogram of a <code>Glm</code> fit</a></li>
</ul></li>
<li class="chapter" data-level="18.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#negative-binomial-model"><i class="fa fa-check"></i><b>18.11</b> Negative Binomial Model</a><ul>
<li class="chapter" data-level="18.11.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-4"><i class="fa fa-check"></i><b>18.11.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.11.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-with-the-raw-poisson-model"><i class="fa fa-check"></i><b>18.11.2</b> Comparison with the (raw) Poisson model</a></li>
<li class="chapter" data-level="18.11.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-4"><i class="fa fa-check"></i><b>18.11.3</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.11.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpretation-of-coefficients-in-terms-of-irrs"><i class="fa fa-check"></i><b>18.11.4</b> Interpretation of Coefficients in terms of IRRs</a></li>
<li class="chapter" data-level="18.11.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-4"><i class="fa fa-check"></i><b>18.11.5</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.11.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-4"><i class="fa fa-check"></i><b>18.11.6</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.11.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-for-negative-binomial-model"><i class="fa fa-check"></i><b>18.11.7</b> Rootogram for Negative Binomial model</a></li>
<li class="chapter" data-level="18.11.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#simulating-what-the-negative-binomial-model-predicts"><i class="fa fa-check"></i><b>18.11.8</b> Simulating what the Negative Binomial model predicts</a></li>
<li class="chapter" data-level="18.11.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-loglikelihood-values-4"><i class="fa fa-check"></i><b>18.11.9</b> Specify the R<sup>2</sup> and log(likelihood) values</a></li>
<li class="chapter" data-level="18.11.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-4"><i class="fa fa-check"></i><b>18.11.10</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.11.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-4"><i class="fa fa-check"></i><b>18.11.11</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.12" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-problem-too-few-zeros"><i class="fa fa-check"></i><b>18.12</b> The Problem: Too Few Zeros</a></li>
<li class="chapter" data-level="18.13" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-zero-inflated-poisson-regression-model"><i class="fa fa-check"></i><b>18.13</b> The Zero-Inflated Poisson Regression Model</a><ul>
<li class="chapter" data-level="18.13.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-null-model"><i class="fa fa-check"></i><b>18.13.1</b> Comparison to a null model</a></li>
<li class="chapter" data-level="18.13.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-poisson-model-with-the-vuong-test"><i class="fa fa-check"></i><b>18.13.2</b> Comparison to a Poisson Model with the Vuong test</a></li>
<li class="chapter" data-level="18.13.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-5"><i class="fa fa-check"></i><b>18.13.3</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.13.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-5"><i class="fa fa-check"></i><b>18.13.4</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.13.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-5"><i class="fa fa-check"></i><b>18.13.5</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.13.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-5"><i class="fa fa-check"></i><b>18.13.6</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.13.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#modeled-number-of-zero-counts"><i class="fa fa-check"></i><b>18.13.7</b> Modeled Number of Zero Counts</a></li>
<li class="chapter" data-level="18.13.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-for-zip-model"><i class="fa fa-check"></i><b>18.13.8</b> Rootogram for ZIP model</a></li>
<li class="chapter" data-level="18.13.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-log-likelihood-values"><i class="fa fa-check"></i><b>18.13.9</b> Specify the R<sup>2</sup> and log (likelihood) values</a></li>
<li class="chapter" data-level="18.13.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-5"><i class="fa fa-check"></i><b>18.13.10</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.13.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-5"><i class="fa fa-check"></i><b>18.13.11</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.14" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-zero-inflated-negative-binomial-regression-model"><i class="fa fa-check"></i><b>18.14</b> The Zero-Inflated Negative Binomial Regression Model</a><ul>
<li class="chapter" data-level="18.14.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-null-model-1"><i class="fa fa-check"></i><b>18.14.1</b> Comparison to a null model</a></li>
<li class="chapter" data-level="18.14.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-negative-binomial-model-vuong-test"><i class="fa fa-check"></i><b>18.14.2</b> Comparison to a Negative Binomial Model: Vuong test</a></li>
<li class="chapter" data-level="18.14.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-6"><i class="fa fa-check"></i><b>18.14.3</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.14.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-6"><i class="fa fa-check"></i><b>18.14.4</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.14.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-6"><i class="fa fa-check"></i><b>18.14.5</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.14.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-6"><i class="fa fa-check"></i><b>18.14.6</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.14.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#modeled-number-of-zero-counts-1"><i class="fa fa-check"></i><b>18.14.7</b> Modeled Number of Zero Counts</a></li>
<li class="chapter" data-level="18.14.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-for-zero-inflated-negative-binomial-model"><i class="fa fa-check"></i><b>18.14.8</b> Rootogram for Zero-Inflated Negative Binomial model</a></li>
<li class="chapter" data-level="18.14.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-log-likelihood-values-1"><i class="fa fa-check"></i><b>18.14.9</b> Specify the R<sup>2</sup> and log (likelihood) values</a></li>
<li class="chapter" data-level="18.14.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-6"><i class="fa fa-check"></i><b>18.14.10</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.14.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-6"><i class="fa fa-check"></i><b>18.14.11</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.15" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#a-hurdle-model-with-poisson"><i class="fa fa-check"></i><b>18.15</b> A “hurdle” model (with Poisson)</a><ul>
<li class="chapter" data-level="18.15.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-null-model-2"><i class="fa fa-check"></i><b>18.15.1</b> Comparison to a null model</a></li>
<li class="chapter" data-level="18.15.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-poisson-model-vuong-test"><i class="fa fa-check"></i><b>18.15.2</b> Comparison to a Poisson Model: Vuong test</a></li>
<li class="chapter" data-level="18.15.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-zero-inflated-poisson-model-vuong-test"><i class="fa fa-check"></i><b>18.15.3</b> Comparison to a Zero-Inflated Poisson Model: Vuong test</a></li>
<li class="chapter" data-level="18.15.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-7"><i class="fa fa-check"></i><b>18.15.4</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.15.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-7"><i class="fa fa-check"></i><b>18.15.5</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.15.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-7"><i class="fa fa-check"></i><b>18.15.6</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.15.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-7"><i class="fa fa-check"></i><b>18.15.7</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.15.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#modeled-number-of-zero-counts-2"><i class="fa fa-check"></i><b>18.15.8</b> Modeled Number of Zero Counts</a></li>
<li class="chapter" data-level="18.15.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-for-hurdle-model"><i class="fa fa-check"></i><b>18.15.9</b> Rootogram for Hurdle Model</a></li>
<li class="chapter" data-level="18.15.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#understanding-the-modeled-counts-in-detail"><i class="fa fa-check"></i><b>18.15.10</b> Understanding the Modeled Counts in Detail</a></li>
<li class="chapter" data-level="18.15.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-log-likelihood-values-2"><i class="fa fa-check"></i><b>18.15.11</b> Specify the R<sup>2</sup> and log (likelihood) values</a></li>
<li class="chapter" data-level="18.15.12" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-7"><i class="fa fa-check"></i><b>18.15.12</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.15.13" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-7"><i class="fa fa-check"></i><b>18.15.13</b> Predictions for Harry and Sally</a></li>
</ul></li>
<li class="chapter" data-level="18.16" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#a-hurdle-model-with-negative-binomial-for-overdispersion"><i class="fa fa-check"></i><b>18.16</b> A “hurdle” model (with negative binomial for overdispersion)</a><ul>
<li class="chapter" data-level="18.16.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-null-model-3"><i class="fa fa-check"></i><b>18.16.1</b> Comparison to a null model</a></li>
<li class="chapter" data-level="18.16.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-negative-binomial-model-vuong-test-1"><i class="fa fa-check"></i><b>18.16.2</b> Comparison to a Negative Binomial Model: Vuong test</a></li>
<li class="chapter" data-level="18.16.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparison-to-a-zero-inflated-nb-model-vuong-test"><i class="fa fa-check"></i><b>18.16.3</b> Comparison to a Zero-Inflated NB Model: Vuong test</a></li>
<li class="chapter" data-level="18.16.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#comparing-the-hurdle-models-with-aic-and-bic"><i class="fa fa-check"></i><b>18.16.4</b> Comparing the Hurdle Models with AIC and BIC</a></li>
<li class="chapter" data-level="18.16.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-8"><i class="fa fa-check"></i><b>18.16.5</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.16.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-8"><i class="fa fa-check"></i><b>18.16.6</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.16.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-8"><i class="fa fa-check"></i><b>18.16.7</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.16.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-8"><i class="fa fa-check"></i><b>18.16.8</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.16.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#rootogram-for-nb-hurdle-model"><i class="fa fa-check"></i><b>18.16.9</b> Rootogram for NB Hurdle Model</a></li>
<li class="chapter" data-level="18.16.10" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-log-likelihood-values-3"><i class="fa fa-check"></i><b>18.16.10</b> Specify the R<sup>2</sup> and log (likelihood) values</a></li>
<li class="chapter" data-level="18.16.11" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-8"><i class="fa fa-check"></i><b>18.16.11</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.16.12" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-8"><i class="fa fa-check"></i><b>18.16.12</b> Predictions for Harry and Sally</a></li>
<li class="chapter" data-level="18.16.13" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#note-fitting-a-different-hurdle-model-for-counts-and-przero"><i class="fa fa-check"></i><b>18.16.13</b> Note: Fitting a Different Hurdle Model for Counts and Pr(zero)</a></li>
<li class="chapter" data-level="18.16.14" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#hanging-rootogram-for-this-new-hurdle-model"><i class="fa fa-check"></i><b>18.16.14</b> Hanging Rootogram for this new Hurdle Model</a></li>
</ul></li>
<li class="chapter" data-level="18.17" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#a-tobit-censored-regression-model"><i class="fa fa-check"></i><b>18.17</b> A Tobit (Censored) Regression Model</a><ul>
<li class="chapter" data-level="18.17.1" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#the-fitted-equation-9"><i class="fa fa-check"></i><b>18.17.1</b> The Fitted Equation</a></li>
<li class="chapter" data-level="18.17.2" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#interpreting-the-coefficients-9"><i class="fa fa-check"></i><b>18.17.2</b> Interpreting the Coefficients</a></li>
<li class="chapter" data-level="18.17.3" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#testing-the-predictors-9"><i class="fa fa-check"></i><b>18.17.3</b> Testing the Predictors</a></li>
<li class="chapter" data-level="18.17.4" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#store-fitted-values-and-residuals-9"><i class="fa fa-check"></i><b>18.17.4</b> Store fitted values and residuals</a></li>
<li class="chapter" data-level="18.17.5" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#building-something-like-a-rootogram"><i class="fa fa-check"></i><b>18.17.5</b> Building Something Like a Rootogram</a></li>
<li class="chapter" data-level="18.17.6" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#tables-of-the-observed-and-fitted-physhealth-from-tobit"><i class="fa fa-check"></i><b>18.17.6</b> Tables of the Observed and Fitted <code>physhealth</code> from Tobit</a></li>
<li class="chapter" data-level="18.17.7" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#specify-the-r2-and-log-likelihood-values-4"><i class="fa fa-check"></i><b>18.17.7</b> Specify the R<sup>2</sup> and log (likelihood) values</a></li>
<li class="chapter" data-level="18.17.8" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#check-model-assumptions-9"><i class="fa fa-check"></i><b>18.17.8</b> Check model assumptions</a></li>
<li class="chapter" data-level="18.17.9" data-path="modeling-a-count-outcome-in-ohio-smart.html"><a href="modeling-a-count-outcome-in-ohio-smart.html#predictions-for-harry-and-sally-9"><i class="fa fa-check"></i><b>18.17.9</b> Predictions for Harry and Sally</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="19" data-path="modeling-an-ordinal-multi-categorical-outcome-in-ohio-smart.html"><a href="modeling-an-ordinal-multi-categorical-outcome-in-ohio-smart.html"><i class="fa fa-check"></i><b>19</b> Modeling an Ordinal Multi-Categorical Outcome in Ohio SMART</a><ul>
<li class="chapter" data-level="19.1" data-path="modeling-an-ordinal-multi-categorical-outcome-in-ohio-smart.html"><a href="modeling-an-ordinal-multi-categorical-outcome-in-ohio-smart.html#where-to-read-this-chapter"><i class="fa fa-check"></i><b>19.1</b> Where to Read this Chapter</a></li>
</ul></li>
<li class="chapter" data-level="20" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html"><i class="fa fa-check"></i><b>20</b> Analyzing Literary Styles with Multinomial Logistic Regression</a><ul>
<li class="chapter" data-level="20.1" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#the-authorship-example"><i class="fa fa-check"></i><b>20.1</b> The Authorship Example</a></li>
<li class="chapter" data-level="20.2" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#focus-on-11-key-words"><i class="fa fa-check"></i><b>20.2</b> Focus on 11 key words</a><ul>
<li class="chapter" data-level="20.2.1" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#side-by-side-boxplots"><i class="fa fa-check"></i><b>20.2.1</b> Side by Side Boxplots</a></li>
</ul></li>
<li class="chapter" data-level="20.3" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#a-multinomial-logistic-regression-model"><i class="fa fa-check"></i><b>20.3</b> A Multinomial Logistic Regression Model</a><ul>
<li class="chapter" data-level="20.3.1" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#testing-model-1"><i class="fa fa-check"></i><b>20.3.1</b> Testing Model 1</a></li>
</ul></li>
<li class="chapter" data-level="20.4" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#model-2"><i class="fa fa-check"></i><b>20.4</b> Model 2</a><ul>
<li class="chapter" data-level="20.4.1" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#comparing-model-2-to-model-1"><i class="fa fa-check"></i><b>20.4.1</b> Comparing Model 2 to Model 1</a></li>
<li class="chapter" data-level="20.4.2" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#testing-model-2"><i class="fa fa-check"></i><b>20.4.2</b> Testing Model 2</a></li>
<li class="chapter" data-level="20.4.3" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#a-little-history"><i class="fa fa-check"></i><b>20.4.3</b> A little history</a></li>
</ul></li>
<li class="chapter" data-level="20.5" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#classification-table"><i class="fa fa-check"></i><b>20.5</b> Classification Table</a></li>
<li class="chapter" data-level="20.6" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#probability-curves-based-on-a-single-predictor"><i class="fa fa-check"></i><b>20.6</b> Probability Curves based on a Single Predictor</a><ul>
<li class="chapter" data-level="20.6.1" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#produce-the-plot-of-estimated-probabilities-based-on-been-counts"><i class="fa fa-check"></i><b>20.6.1</b> Produce the Plot of Estimated Probabilities based on “been” counts</a></li>
<li class="chapter" data-level="20.6.2" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#boxplot-of-been-counts"><i class="fa fa-check"></i><b>20.6.2</b> Boxplot of “been” counts</a></li>
<li class="chapter" data-level="20.6.3" data-path="analyzing-literary-styles-with-multinomial-logistic-regression.html"><a href="analyzing-literary-styles-with-multinomial-logistic-regression.html#quote-sources"><i class="fa fa-check"></i><b>20.6.3</b> Quote Sources</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
<li class="divider"></li>
<li><a href="https://github.com/rstudio/bookdown" target="blank">Published with bookdown</a></li>

</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">Data Science for Biological, Medical and Health Research: Notes for 432</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="cleaning-the-brfss-smart-data" class="section level1">
<h1><span class="header-section-number">Chapter 17</span> Cleaning the BRFSS SMART Data</h1>
<p>The Centers for Disease Control analyzes Behavioral Risk Factor Surveillance System (BRFSS) survey data for specific metropolitan and micropolitan statistical areas (MMSAs) in a program called the Selected Metropolitan/Micropolitan Area Risk Trends of BRFSS (SMART BRFSS.)</p>
<p>In this work, we will focus on data from the 2016 SMART, and in particular on data from the state of Ohio, and from the Cleveland-Elyria, OH, Metropolitan Statistical Area. The purpose of this survey is to provide localized health information that can help public health practitioners identify local emerging health problems, plan and evaluate local responses, and efficiently allocate resources to specific needs.</p>
<p>In this chapter, I describe all of the cleaning I have done (so far) on the BRFSS SMART data, and break it out into national, statewide, and local samples.</p>
<p>The data files produced by this chapter include:</p>
<ul>
<li><code>smart_ohio.csv</code> which includes data on 57 variables for 6014 subjects in five MMSAs in Ohio.</li>
<li><code>smartcle.csv</code> which includes data on those same 57 variables for the 1036 subjects in the Cleveland-Elyria-Lorain OH MMSA.</li>
<li><code>smartcle1.csv</code> which includes a subset of 11 variables for those same 1036 subjects.</li>
</ul>
<p>SMART and BRFSS</p>
<p>The Centers for Disease Control analyzes Behavioral Risk Factor Surveillance System (BRFSS) survey data for specific metropolitan and micropolitan statistical areas (MMSAs) in a program called the <a href="https://www.cdc.gov/brfss/smart/Smart_data.htm">Selected Metropolitan/Micropolitan Area Risk Trends of BRFSS</a> (SMART BRFSS.)</p>
<p>In this work, we will focus on <a href="https://www.cdc.gov/brfss/smart/smart_2016.html">data from the 2016 SMART</a>, and in particular on data from the Cleveland-Elyria, OH, Metropolitan Statistical Area. The purpose of this survey is to provide localized health information that can help public health practitioners identify local emerging health problems, plan and evaluate local responses, and efficiently allocate resources to specific needs.</p>
<div id="key-resources-1" class="section level2">
<h2><span class="header-section-number">17.1</span> Key resources</h2>
<ul>
<li>the data, in the form of the 2016 SMART BRFSS MMSA Data, found in a zipped <a href="https://www.cdc.gov/brfss/smart/2016/MMSA2016_XPT.zip">SAS Transport Format</a> file. The data were released in August 2017.</li>
<li>the <a href="https://www.cdc.gov/brfss/smart/2016/mmsa_varlayout_16.pdf">MMSA Variable Layout PDF</a> which simply lists the variables included in the data file</li>
<li>the <a href="https://www.cdc.gov/brfss/annual_data/2016/pdf/2016_calculated_variables_version4.pdf">Calculated Variables PDF</a> which describes the risk factors by data variable names - there is also an <a href="https://www.cdc.gov/brfss/annual_data/2016/Summary_Matrix_16.html">online summary matrix of these calculated variables</a>, as well.</li>
<li>the lengthy <a href="https://www.cdc.gov/brfss/questionnaires/pdf-ques/2016_BRFSS_Questionnaire_FINAL.pdf">2016 Survey Questions PDF</a> which lists all questions asked as part of the BRFSS in 2016</li>
<li>the enormous <a href="https://www.cdc.gov/brfss/annual_data/2016/pdf/codebook16_llcp.pdf">Codebook for the 2016 BRFSS Survey PDF</a> which identifies the variables by name for us.</li>
</ul>
</div>
<div id="ingesting-the-raw-data" class="section level2">
<h2><span class="header-section-number">17.2</span> Ingesting The Raw Data</h2>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">library</span>(skimr) 
<span class="kw">library</span>(broom); <span class="kw">library</span>(modelr)
<span class="kw">library</span>(haven); <span class="kw">library</span>(tidyverse)</code></pre></div>
</div>
<div id="the-national-data" class="section level2">
<h2><span class="header-section-number">17.3</span> The National Data</h2>
<p>To create the data files we’ll use, I used the <code>read_xpt</code> function from the <code>haven</code> package to bring in the SAS XPT data file that is provided by CDC. The codes I used (but won’t use in these Notes) were:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span><span class="kw">read_xpt</span>(<span class="st">&quot;data/MMSA2016.xpt&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>tbl_df

<span class="kw">dim</span>(smart.raw)</code></pre></div>
<p>This gives the nationwide data, which has 249,011 rows and 146 columns.</p>
<p>But for the purposes of putting these Notes online, I needed to crank down the sample size enormously. To that end, I created a new data file, called smartorig.csv, which I developed by</p>
<ul>
<li>importing the MMSA2016.xpt file</li>
<li>filtering away all observations except those from the state of Ohio</li>
<li>saving it</li>
</ul>
<p>So, for purposes of these notes, our complete data set is actually coming from <code>smartorg.csv</code> and consists only of the 6,014 observations from Ohio.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span><span class="kw">read_csv</span>(<span class="st">&quot;data/smartorig.csv&quot;</span>) <span class="op">%&gt;%</span><span class="st"> </span>tbl_df</code></pre></div>
<pre><code>Parsed with column specification:
cols(
  .default = col_integer(),
  HIVTSTD3 = col_double(),
  `_BMI5` = col_double(),
  `_DRNKWEK` = col_double(),
  `_MMSAWT` = col_double(),
  SEQNO = col_double(),
  MMSANAME = col_character()
)</code></pre>
<pre><code>See spec(...) for full column specifications.</code></pre>
<pre><code>Warning in rbind(names(probs), probs_f): number of columns of result is not
a multiple of vector length (arg 1)</code></pre>
<pre><code>Warning: 4 parsing failures.
row # A tibble: 4 x 5 col     row col   expected               actual file                 expected   &lt;int&gt; &lt;chr&gt; &lt;chr&gt;                  &lt;chr&gt;  &lt;chr&gt;                actual 1  1567 WTKG3 no trailing characters e3     &#39;data/smartorig.csv&#39; file 2  3087 WTKG3 no trailing characters e3     &#39;data/smartorig.csv&#39; row 3  3251 WTKG3 no trailing characters e3     &#39;data/smartorig.csv&#39; col 4  3753 WTKG3 no trailing characters e3     &#39;data/smartorig.csv&#39;</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">dim</span>(smart.raw)</code></pre></div>
<pre><code>[1] 6014  146</code></pre>
</div>
<div id="cleaning-the-brfss-data" class="section level2">
<h2><span class="header-section-number">17.4</span> Cleaning the BRFSS Data</h2>
<p>My source for learning about the codes in these variables is the enormous <a href="https://www.cdc.gov/brfss/annual_data/2016/pdf/codebook16_llcp.pdf">Codebook for the 2016 BRFSS Survey PDF</a> which identifies the variables by name for us. The first two variables in the raw file are</p>
<ul>
<li><code>DISPCODE</code> which is 1100 if the subject completed the interview, and 1200 if they partially completed the interview.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DISPCODE)</code></pre></div>
<pre><code># A tibble: 2 x 2
  DISPCODE     n
     &lt;int&gt; &lt;int&gt;
1     1100  5162
2     1200   852</code></pre>
<ul>
<li><code>HHADULT</code> which is the response to “How many members of your household, including yourself, are 18 years of age or older?”
<ul>
<li>The response is 1-76, with special values 77 for Don’t Know/Not Sure and 99 for refused, with BLANK for missing or not asked.</li>
<li>So we should change all numerical values above 76 to NA for our analyses (the blanks are already regarded as NAs by R in the ingestion process.)</li>
</ul></li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">hhadults =</span> HHADULT,
           <span class="dt">hhadults =</span> <span class="kw">replace</span>(hhadults, hhadults <span class="op">&gt;</span><span class="st"> </span><span class="dv">76</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(HHADULT, hhadults) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  HHADULT hhadults     n
    &lt;int&gt;    &lt;int&gt; &lt;int&gt;
1       6        6     9
2       7        7     3
3      10       10     2
4      77       NA     4
5      99       NA     1
6      NA       NA  3419</code></pre>
<div id="health-status-1-item" class="section level3">
<h3><span class="header-section-number">17.4.1</span> Health Status (1 item)</h3>
<p>The next variable describes relate to the subject’s health status.</p>
<div id="genhlth-and-its-cleanup-to-genhealth" class="section level4">
<h4><span class="header-section-number">17.4.1.1</span> <code>GENHLTH</code> and its cleanup to <code>genhealth</code></h4>
<ul>
<li><code>GENHLTH</code>, the General Health variable, which is the response to “Would you say that in general your health is …”
<ul>
<li>1 = Excellent</li>
<li>2 = Very good</li>
<li>3 = Good</li>
<li>4 = Fair</li>
<li>5 = Poor</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul></li>
</ul>
<p>To clean up the <code>GENHLTH</code> data into a new variable called <code>genhealth</code> we’ll need to - convince R that the 7 and 9 values are in fact best interpreted as <code>NA</code>, - and perhaps change the variable to a factor and incorporate the names into the levels.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">genhealth =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(GENHLTH), 
                                <span class="st">&quot;1_Excellent&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;2_VeryGood&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;3_Good&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;4_Fair&quot;</span> =<span class="st"> &quot;4&quot;</span>, 
                                <span class="st">&quot;5_Poor&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(GENHLTH, genhealth) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  GENHLTH genhealth      n
    &lt;int&gt; &lt;fct&gt;      &lt;int&gt;
1       2 2_VeryGood  2014
2       3 3_Good      1895
3       4 4_Fair       798
4       5 5_Poor       298
5       7 &lt;NA&gt;           8
6       9 &lt;NA&gt;           4</code></pre>
</div>
</div>
<div id="healthy-days---health-related-quality-of-life-3-items" class="section level3">
<h3><span class="header-section-number">17.4.2</span> Healthy Days - Health-Related Quality of Life (3 items)</h3>
<p>The next three variables describe the subject’s health-related quality of life.</p>
<div id="physhlth-and-its-cleanup-to-physhealth" class="section level4">
<h4><span class="header-section-number">17.4.2.1</span> <code>PHYSHLTH</code> and its cleanup to <code>physhealth</code></h4>
<p>PHYSHLTH`, the Number of Days Physical Health Not Good variable, which is the response to “Now thinking about your physical health, which includes physical illness and injury, for how many days during the past 30 days was your physical health not good?”</p>
<ul>
<li>Values of 1-30 are numeric and reasonable.</li>
<li>A value of 88 indicates “none” and should be recoded to 0.</li>
<li>77 is the code for Don’t know/Not sure</li>
<li>99 is the code for Refused</li>
<li>BLANK indicates Not asked or missing, and R recognizes this as <code>NA</code> properly.</li>
</ul>
<p>To clean up <code>PHYSHLTH</code> to a new variable called <code>physhealth</code>, we’ll need: - to convince R that the 77 and 99 values are in fact best interpreted as <code>NA</code>, and - to convince R that the 88 should be interpreted as 0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">physhealth =</span> PHYSHLTH,
           <span class="dt">physhealth =</span> <span class="kw">replace</span>(physhealth, physhealth <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">77</span>, <span class="dv">99</span>), <span class="ot">NA</span>),
           <span class="dt">physhealth =</span> <span class="kw">replace</span>(physhealth, physhealth <span class="op">==</span><span class="st"> </span><span class="dv">88</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(PHYSHLTH, physhealth) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  PHYSHLTH physhealth     n
     &lt;int&gt;      &lt;dbl&gt; &lt;int&gt;
1       28        28.     5
2       29        29.     1
3       30        30.   482
4       77        NA     82
5       88         0.  3798
6       99        NA     12</code></pre>
<p>Note that we present the <code>tail</code> of the counts in this case so we can see what happens to the key values (77, 88, 99) of our original variable <code>PHYSHLTH</code>.</p>
</div>
<div id="menthlth-and-its-cleanup-to-menthealth" class="section level4">
<h4><span class="header-section-number">17.4.2.2</span> <code>MENTHLTH</code> and its cleanup to <code>menthealth</code></h4>
<p>MENTHLTH`, the Number of Days Mental Health Not Good variable, which is the response to “Now thinking about your mental health, which includes stress, depression, and problems with emotions, for how many days during the past 30 days was your mental health not good?”</p>
<ul>
<li>This is coded just like the <code>PHYSHLTH</code> variable, so we need to do the same cleaning we did there.</li>
</ul>
<p>To clean up <code>MENTHLTH</code> to a new variable called <code>menthealth</code>, we’ll need: - to convince R that the 77 and 99 values are in fact best interpreted as <code>NA</code>, and - to convince R that the 88 should be interpreted as 0.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">menthealth =</span> MENTHLTH,
           <span class="dt">menthealth =</span> <span class="kw">replace</span>(menthealth, menthealth <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">77</span>, <span class="dv">99</span>), <span class="ot">NA</span>),
           <span class="dt">menthealth =</span> <span class="kw">replace</span>(menthealth, menthealth <span class="op">==</span><span class="st"> </span><span class="dv">88</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(MENTHLTH, menthealth) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  MENTHLTH menthealth     n
     &lt;int&gt;      &lt;dbl&gt; &lt;int&gt;
1       28        28.     3
2       29        29.     8
3       30        30.   340
4       77        NA     58
5       88         0.  4114
6       99        NA     16</code></pre>
</div>
<div id="poorhlth-and-its-cleanup-to-poorhealth" class="section level4">
<h4><span class="header-section-number">17.4.2.3</span> <code>POORHLTH</code> and its cleanup to <code>poorhealth</code></h4>
<p><code>POORHLTH</code>, the Poor Physical or Mental Health variable, which is the response to “During the past 30 days, for about how many days did poor physical or mental health keep you from doing your usual activities, such as self-care, work, or recreation?”</p>
<ul>
<li>Again, we recode just like the <code>PHYSHLTH</code> variable.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">poorhealth =</span> POORHLTH,
           <span class="dt">poorhealth =</span> <span class="kw">replace</span>(poorhealth, poorhealth <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">77</span>, <span class="dv">99</span>), <span class="ot">NA</span>),
           <span class="dt">poorhealth =</span> <span class="kw">replace</span>(poorhealth, poorhealth <span class="op">==</span><span class="st"> </span><span class="dv">88</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(POORHLTH, poorhealth) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  POORHLTH poorhealth     n
     &lt;int&gt;      &lt;dbl&gt; &lt;int&gt;
1       29        29.     2
2       30        30.   272
3       77        NA     60
4       88         0.  1679
5       99        NA      6
6       NA        NA   2977</code></pre>
</div>
</div>
<div id="health-care-access-4-items" class="section level3">
<h3><span class="header-section-number">17.4.3</span> Health Care Access (4 items)</h3>
<p>The next four variables relate to the subject’s health care access.</p>
<div id="hlthpln1-and-its-cleanup-to-healthplan" class="section level4">
<h4><span class="header-section-number">17.4.3.1</span> <code>HLTHPLN1</code> and its cleanup to <code>healthplan</code></h4>
<p><code>HLTHPLN1</code>, the Have any health care coverage variable, is the response to “Do you have any kind of health care coverage, including health insurance, prepaid plans such as HMOs, or government plans such as Medicare, or Indian Health Service?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
</ul>
<p>To clean up the <code>HLTHPLN1</code> data into a new variable called <code>healthplan</code> we’ll<br />
- convince R that the 7 and 9 values are in fact best interpreted as <code>NA</code>, - and turn it into an indicator variable, e.g., we will leave the variable as numeric, but change the values to 1 = Yes and 0 = No.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">healthplan =</span> HLTHPLN1,
           <span class="dt">healthplan =</span> <span class="kw">replace</span>(healthplan, healthplan <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">healthplan =</span> <span class="kw">replace</span>(healthplan, healthplan <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(HLTHPLN1, healthplan)</code></pre></div>
<pre><code># A tibble: 4 x 3
  HLTHPLN1 healthplan     n
     &lt;int&gt;      &lt;dbl&gt; &lt;int&gt;
1        1         1.  5722
2        2         0.   271
3        7        NA     11
4        9        NA     10</code></pre>
</div>
<div id="persdoc2-and-its-cleanup-to-hasdoc-and-to-numdocs2" class="section level4">
<h4><span class="header-section-number">17.4.3.2</span> <code>PERSDOC2</code> and its cleanup to <code>hasdoc</code> and to <code>numdocs2</code></h4>
<p><code>PERSDOC2</code>, the Multiple Health Care Professionals variable, is the response to “Do you have one person you think of as your personal doctor or health care provider?” where if the response is “No”, the survey then asks “Is there more than one or is there no person who you think of as your personal doctor or health care provider?”</p>
<ul>
<li>1 = Yes, only one</li>
<li>2 = More than one</li>
<li>3 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>Let’s build two variables here. We’ll create a <code>hasdoc</code> variable which is simply Yes or No, and a factor variable called <code>numdocs2</code> which keeps the first three levels in place.</p>
<p>To clean up the <code>PERSDOC2</code> data into a new variable called <code>hasdoc</code> we’ll<br />
- convince R that the 7 and 9 values are in fact best interpreted as <code>NA</code>, - and turn it into an indicator variable, e.g., we will leave the variable as numeric, but change the values to 1 = Yes and 0 = No, so that the original 1 and 2 become 1, and the original 3 becomes 0.</p>
<p>To clean up the <code>PERSDOC2</code> data into a new variable called <code>numdocs2</code> we’ll - convince R that the 7 and 9 values are in fact best interpreted as <code>NA</code>, - relabel options 1, 2 and 3 while turning the variable into a factor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">hasdoc =</span> PERSDOC2,
           <span class="dt">hasdoc =</span> <span class="kw">replace</span>(hasdoc, hasdoc <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hasdoc =</span> <span class="kw">replace</span>(hasdoc, hasdoc <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">1</span>, <span class="dv">2</span>), <span class="dv">1</span>),
           <span class="dt">hasdoc =</span> <span class="kw">replace</span>(hasdoc, hasdoc <span class="op">==</span><span class="st"> </span><span class="dv">3</span>, <span class="dv">0</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">numdocs2 =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(PERSDOC2),
                                 <span class="st">&quot;1_One&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                 <span class="st">&quot;2_MoreThanOne&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                 <span class="st">&quot;3_Zero&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(PERSDOC2, hasdoc, numdocs2)</code></pre></div>
<pre><code># A tibble: 5 x 4
  PERSDOC2 hasdoc numdocs2          n
     &lt;int&gt;  &lt;dbl&gt; &lt;fct&gt;         &lt;int&gt;
1        1     1. 1_One          4783
2        2     1. 2_MoreThanOne   463
3        3     0. 3_Zero          744
4        7    NA  &lt;NA&gt;             14
5        9    NA  &lt;NA&gt;             10</code></pre>
</div>
<div id="medcost-and-its-cleanup-to-costprob" class="section level4">
<h4><span class="header-section-number">17.4.3.3</span> <code>MEDCOST</code> and its cleanup to <code>costprob</code></h4>
<p><code>MEDCOST</code>, the Could Not See Doctor Because of Cost variable, is the response to “Was there a time in the past 12 months when you needed to see a doctor but could not because of cost?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>This is just like <code>HLTHPLAN</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">costprob =</span> MEDCOST,
           <span class="dt">costprob =</span> <span class="kw">replace</span>(costprob, costprob <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">costprob =</span> <span class="kw">replace</span>(costprob, costprob <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(MEDCOST, costprob)</code></pre></div>
<pre><code># A tibble: 4 x 3
  MEDCOST costprob     n
    &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
1       1       1.   503
2       2       0.  5498
3       7      NA     11
4       9      NA      2</code></pre>
</div>
<div id="checkup1-and-its-cleanup-to-checktime" class="section level4">
<h4><span class="header-section-number">17.4.3.4</span> <code>CHECKUP1</code> and its cleanup to <code>checktime</code></h4>
<p><code>CHECKUP1</code>, the Length of time since last routine checkup variable, is the response to “About how long has it been since you last visited a doctor for a routine checkup? [A routine checkup is a general physical exam, not an exam for a specific injury, illness, or condition.]”</p>
<ul>
<li>1 = Within past year (anytime less than 12 months ago)</li>
<li>2 = Within past 2 years (1 year but less than 2 years ago)</li>
<li>3 = Within past 5 years (2 years but less than 5 years ago)</li>
<li>4 = 5 or more years ago</li>
<li>7 = Don’t know/Not sure</li>
<li>8 = Never</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>To clean up the <code>CHECKUP1</code> data into a new variable called <code>checktime</code> we’ll - convince R that the 7 and 9 values are in fact best interpreted as <code>NA</code>, - relabel options 1, 2, 3, 4 and 8 while turning the variable into a factor.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">checktime =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(CHECKUP1),
                                 <span class="st">&quot;1_In-past-year&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                 <span class="st">&quot;2_1-to-2-years&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                 <span class="st">&quot;3_2-to-5-years&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                 <span class="st">&quot;4_5_plus_years&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                 <span class="st">&quot;8_Never&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(CHECKUP1, checktime)</code></pre></div>
<pre><code># A tibble: 7 x 3
  CHECKUP1 checktime          n
     &lt;int&gt; &lt;fct&gt;          &lt;int&gt;
1        1 1_In-past-year  4742
2        2 2_1-to-2-years   571
3        3 3_2-to-5-years   299
4        4 4_5_plus_years   299
5        7 &lt;NA&gt;              66
6        8 8_Never           30
7        9 &lt;NA&gt;               7</code></pre>
</div>
</div>
<div id="exercise-1-item" class="section level3">
<h3><span class="header-section-number">17.4.4</span> Exercise (1 item)</h3>
<div id="exerany2-and-its-cleanup-to-exerany" class="section level4">
<h4><span class="header-section-number">17.4.4.1</span> <code>EXERANY2</code> and its cleanup to <code>exerany</code></h4>
<p><code>EXERANY2</code>, the Exercise in Past 30 Days variable, is the response to “During the past month, other than your regular job, did you participate in any physical activities or exercises such as running, calisthenics, golf, gardening, or walking for exercise?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>This is just like <code>HLTHPLAN</code>.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">exerany =</span> EXERANY2,
           <span class="dt">exerany =</span> <span class="kw">replace</span>(exerany, exerany <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">exerany =</span> <span class="kw">replace</span>(exerany, exerany <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(EXERANY2, exerany)</code></pre></div>
<pre><code># A tibble: 4 x 3
  EXERANY2 exerany     n
     &lt;int&gt;   &lt;dbl&gt; &lt;int&gt;
1        1      1.  4464
2        2      0.  1537
3        7     NA     10
4        9     NA      3</code></pre>
</div>
</div>
<div id="inadequate-sleep-1-item" class="section level3">
<h3><span class="header-section-number">17.4.5</span> Inadequate Sleep (1 item)</h3>
<div id="sleptim1-and-its-cleanup-to-sleephrs" class="section level4">
<h4><span class="header-section-number">17.4.5.1</span> <code>SLEPTIM1</code> and its cleanup to <code>sleephrs</code></h4>
<p><code>SLEPTIM1</code>, the How Much Time Do You Sleep variable, is the response to “I would like to ask you about your sleep pattern. On average, how many hours of sleep do you get in a 24-hour period?”</p>
<ul>
<li>The response is 1-24, with special values 77 for Don’t Know/Not Sure and 99 for refused, with BLANK for missing or not asked.</li>
<li>So we should change all numerical values above 24 to NA for our analyses (the blanks are already regarded as NAs by R in the ingestion process.)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">sleephrs =</span> SLEPTIM1,
           <span class="dt">sleephrs =</span> <span class="kw">replace</span>(sleephrs, sleephrs <span class="op">&gt;</span><span class="st"> </span><span class="dv">24</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(SLEPTIM1, sleephrs) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  SLEPTIM1 sleephrs     n
     &lt;int&gt;    &lt;int&gt; &lt;int&gt;
1       18       18     2
2       20       20     4
3       22       22     1
4       23       23     1
5       77       NA    47
6       99       NA     8</code></pre>
</div>
</div>
<div id="chronic-health-conditions-13-items" class="section level3">
<h3><span class="header-section-number">17.4.6</span> Chronic Health Conditions (13 items)</h3>
<div id="self-reported-diagnosis-history-11-items" class="section level4">
<h4><span class="header-section-number">17.4.6.1</span> Self-reported diagnosis history (11 items)</h4>
<p>The next few variables describe whether or not the subject meets a particular standard, and are all coded in the raw data the same way:</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>and we’ll recode them all to 1 = Yes, 0 = No, otherwise NA, as we’ve done previously.</p>
<p>The questions are all started with “Has a doctor, nurse, or other health professional ever told you that you had any of the following? For each, tell me Yes, No, or you’re Not sure.”</p>
<table style="width:86%;">
<colgroup>
<col width="12%" />
<col width="12%" />
<col width="61%" />
</colgroup>
<thead>
<tr class="header">
<th>Original</th>
<th>Revised</th>
<th>Details</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><code>CVDINFR4</code></td>
<td><code>hx.mi</code></td>
<td>(Ever told) you had a heart attack, also called a myocardial infarction?</td>
</tr>
<tr class="even">
<td><code>CVDCRHD4</code></td>
<td><code>hx.chd</code></td>
<td>(Ever told) you had angina or coronary heart disease?</td>
</tr>
<tr class="odd">
<td><code>CVDSTRK3</code></td>
<td><code>hx.stroke</code></td>
<td>(Ever told) you had a stroke?</td>
</tr>
<tr class="even">
<td><code>ASTHMA3</code></td>
<td><code>hx.asthma</code></td>
<td>(Ever told) you had asthma?</td>
</tr>
<tr class="odd">
<td><code>ASTHNOW</code></td>
<td><code>now.asthma</code></td>
<td>Do you still have asthma? (only asked of those with Yes in <code>ASTHMA3</code>)</td>
</tr>
<tr class="even">
<td><code>CHCSCNCR</code></td>
<td><code>hx.skinc</code></td>
<td>(Ever told) you had skin cancer?</td>
</tr>
<tr class="odd">
<td><code>CHCOCNCR</code></td>
<td><code>hx.otherc</code></td>
<td>(Ever told) you had any other types of cancer?</td>
</tr>
<tr class="even">
<td><code>CHCCOPD1</code></td>
<td><code>hx.copd</code></td>
<td>(Ever told) you have Chronic Obstructive Pulmonary Disease or COPD, emphysema or chronic bronchitis?</td>
</tr>
<tr class="odd">
<td><code>HAVARTH3</code></td>
<td><code>hx.arthr</code></td>
<td>(Ever told) you have some form of arthritis, rheumatoid arthritis, gout, lupus, or fibromyalgia? (Arthritis diagnoses include: rheumatism, polymyalgia rheumatica; osteoarthritis (not osteporosis); tendonitis, bursitis, bunion, tennis elbow; carpal tunnel syndrome, tarsal tunnel syndrome; joint infection, etc.)</td>
</tr>
<tr class="even">
<td><code>ADDEPEV2</code></td>
<td><code>hx.depress</code></td>
<td>(Ever told) you that you have a depressive disorder, including depression, major depression, dysthymia, or minor depression?</td>
</tr>
<tr class="odd">
<td><code>CHCKIDNY</code></td>
<td><code>hx.kidney</code></td>
<td>(Ever told) you have kidney disease? Do NOT include kidney stones, bladder infection or incontinence.</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">hx.mi =</span> CVDINFR4,
           <span class="dt">hx.mi =</span> <span class="kw">replace</span>(hx.mi, hx.mi <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.mi =</span> <span class="kw">replace</span>(hx.mi, hx.mi <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.chd =</span> CVDCRHD4,
           <span class="dt">hx.chd =</span> <span class="kw">replace</span>(hx.chd, hx.chd <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.chd =</span> <span class="kw">replace</span>(hx.chd, hx.chd <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.stroke =</span> CVDSTRK3,
           <span class="dt">hx.stroke =</span> <span class="kw">replace</span>(hx.stroke, hx.stroke <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.stroke =</span> <span class="kw">replace</span>(hx.stroke, hx.stroke <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.asthma =</span> ASTHMA3,
           <span class="dt">hx.asthma =</span> <span class="kw">replace</span>(hx.asthma, hx.asthma <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.asthma =</span> <span class="kw">replace</span>(hx.asthma, hx.asthma <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">now.asthma =</span> ASTHNOW,
           <span class="dt">now.asthma =</span> <span class="kw">replace</span>(now.asthma, now.asthma <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">now.asthma =</span> <span class="kw">replace</span>(now.asthma, now.asthma <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.skinc =</span> CHCSCNCR,
           <span class="dt">hx.skinc =</span> <span class="kw">replace</span>(hx.skinc, hx.skinc <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.skinc =</span> <span class="kw">replace</span>(hx.skinc, hx.skinc <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.otherc =</span> CHCOCNCR,
           <span class="dt">hx.otherc =</span> <span class="kw">replace</span>(hx.otherc, hx.otherc <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.otherc =</span> <span class="kw">replace</span>(hx.otherc, hx.otherc <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.copd =</span> CHCCOPD1,
           <span class="dt">hx.copd =</span> <span class="kw">replace</span>(hx.copd, hx.copd <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.copd =</span> <span class="kw">replace</span>(hx.copd, hx.copd <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.arthr =</span> HAVARTH3,
           <span class="dt">hx.arthr =</span> <span class="kw">replace</span>(hx.arthr, hx.arthr <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.arthr =</span> <span class="kw">replace</span>(hx.arthr, hx.arthr <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.depress =</span> ADDEPEV2,
           <span class="dt">hx.depress =</span> <span class="kw">replace</span>(hx.depress, hx.depress <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.depress =</span> <span class="kw">replace</span>(hx.depress, hx.depress <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>),
           <span class="dt">hx.kidney =</span> CHCKIDNY,
           <span class="dt">hx.kidney =</span> <span class="kw">replace</span>(hx.kidney, hx.kidney <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.kidney =</span> <span class="kw">replace</span>(hx.kidney, hx.kidney <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))</code></pre></div>
<p>We definitely should have written a function to do that, of course.</p>
</div>
<div id="diabete3-and-its-cleanup-to-hx.diabetes-and-diabetes3" class="section level4">
<h4><span class="header-section-number">17.4.6.2</span> <code>DIABETE3</code> and its cleanup to <code>hx.diabetes</code> and <code>diabetes3</code></h4>
<p><code>DIABETE3</code>, the (Ever told) you have diabetes variable, is the response to “(Ever told) you have diabetes (If Yes and respondent is female, ask Was this only when you were pregnant?. If Respondent says pre-diabetes or borderline diabetes, use response code 4.)”</p>
<ul>
<li>1 = Yes</li>
<li>2 = Yes, but female told only during pregnancy</li>
<li>3 = No</li>
<li>4 = No, pre-diabetes or borderline diabetes</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>I’ll create one variable called <code>hx.diabetes</code> which is 1 if <code>DIABETE3</code> = 1, and 0 otherwise, with appropriate NAs, like our other variables. Then I’ll create <code>diabetes3</code> to include all of this information in a factor, but again recode the missing values properly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">hx.diabetes =</span> DIABETE3,
           <span class="dt">hx.diabetes =</span> <span class="kw">replace</span>(hx.diabetes, hx.diabetes <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">hx.diabetes =</span> <span class="kw">replace</span>(hx.diabetes, hx.diabetes <span class="op">%in%</span><span class="st"> </span><span class="dv">2</span><span class="op">:</span><span class="dv">4</span>, <span class="dv">0</span>),
           <span class="dt">diabetes3 =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(DIABETE3),
                                  <span class="st">&quot;Diabetes&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                  <span class="st">&quot;Pregnancy-Induced&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                  <span class="st">&quot;No-Diabetes&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                  <span class="st">&quot;Pre-Diabetes&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                  <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                  <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DIABETE3, hx.diabetes, diabetes3)</code></pre></div>
<pre><code># A tibble: 6 x 4
  DIABETE3 hx.diabetes diabetes3             n
     &lt;int&gt;       &lt;dbl&gt; &lt;fct&gt;             &lt;int&gt;
1        1          1. Diabetes            833
2        2          0. Pregnancy-Induced    49
3        3          0. No-Diabetes        5037
4        4          0. Pre-Diabetes         85
5        7         NA  &lt;NA&gt;                  8
6        9         NA  &lt;NA&gt;                  2</code></pre>
</div>
<div id="diabage2-and-its-cleanup-to-diab.age" class="section level4">
<h4><span class="header-section-number">17.4.6.3</span> <code>DIABAGE2</code> and its cleanup to <code>diab.age</code></h4>
<p><code>DIABAGE2</code>, the Age When Told Diabetic variable, is the response to “How old were you when you were told you have diabetes?” It is asked only of people with <code>DIABETE3 = 1</code> (Yes).</p>
<ul>
<li>The response is 1-97, with special values 98 for Don’t Know/Not Sure and 99 for refused, with BLANK for missing or not asked. People 97 years of age and above were listed as 97.</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">diab.age =</span> DIABAGE2,
           <span class="dt">diab.age =</span> <span class="kw">replace</span>(diab.age, diab.age <span class="op">&gt;</span><span class="st"> </span><span class="dv">97</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DIABAGE2, diab.age) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  DIABAGE2 diab.age     n
     &lt;int&gt;    &lt;int&gt; &lt;int&gt;
1       81       81     2
2       83       83     1
3       85       85     2
4       98       NA    32
5       99       NA     3
6       NA       NA  5181</code></pre>
</div>
</div>
<div id="oral-health-2-items" class="section level3">
<h3><span class="header-section-number">17.4.7</span> Oral Health (2 items)</h3>
<div id="lastden3-and-its-cleanup-to-denttime" class="section level4">
<h4><span class="header-section-number">17.4.7.1</span> <code>LASTDEN3</code> and its cleanup to <code>denttime</code></h4>
<p><code>LASTDEN3</code>, the Last Visited Dentist or Dental Clinic variable, is the response to “How long has it been since you last visited a dentist or a dental clinic for any reason? Include visits to dental specialists, such as orthodontists.”</p>
<ul>
<li>1 = Within past year (anytime less than 12 months ago)</li>
<li>2 = Within past 2 years (1 year but less than 2 years ago)</li>
<li>3 = Within past 5 years (2 years but less than 5 years ago)</li>
<li>4 = 5 or more years ago</li>
<li>7 = Don’t know/Not sure</li>
<li>8 = Never</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll again use the approach from <code>CHECKUP1</code>…</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">denttime =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(LASTDEN3),
                                 <span class="st">&quot;1_In-past-year&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                 <span class="st">&quot;2_1-to-2-years&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                 <span class="st">&quot;3_2-to-5-years&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                 <span class="st">&quot;4_5_plus_years&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                 <span class="st">&quot;8_Never&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(LASTDEN3, denttime)</code></pre></div>
<pre><code># A tibble: 7 x 3
  LASTDEN3 denttime           n
     &lt;int&gt; &lt;fct&gt;          &lt;int&gt;
1        1 1_In-past-year  4221
2        2 2_1-to-2-years   638
3        3 3_2-to-5-years   453
4        4 4_5_plus_years   617
5        7 &lt;NA&gt;              53
6        8 8_Never           24
7        9 &lt;NA&gt;               8</code></pre>
</div>
<div id="rmvteth3-and-its-cleanup-to-remteeth" class="section level4">
<h4><span class="header-section-number">17.4.7.2</span> <code>RMVTETH3</code> and its cleanup to <code>remteeth</code></h4>
<p><code>RMVTETH3</code>, the Number of Permanent Teeth Removed variable, is the response to “How many of your permanent teeth have been removed because of tooth decay or gum disease? Include teeth lost to infection, but do not include teeth lost for other reasons, such as injury or orthodontics. (If wisdom teeth are removed because of tooth decay or gum disease, they should be included in the count for lost teeth).”</p>
<ul>
<li>1 = 1 to 5</li>
<li>2 = 6 or more but not all</li>
<li>3 = All</li>
<li>7 = Don’t know/Not sure</li>
<li>8 = None</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll recode this to <code>remteeth</code> which will be 0 for None, 1 for 1-5, 2 for 6+ but not all, and 3 for All.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">remteeth =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(RMVTETH3),
                                 <span class="st">&quot;None&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                 <span class="st">&quot;1-5&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                 <span class="st">&quot;6+_butnotAll&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                 <span class="st">&quot;All&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;7&quot;</span>,
                                 <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(RMVTETH3, remteeth)</code></pre></div>
<pre><code># A tibble: 6 x 3
  RMVTETH3 remteeth         n
     &lt;int&gt; &lt;fct&gt;        &lt;int&gt;
1        1 1-5           1632
2        2 6+_butnotAll   775
3        3 All            485
4        7 &lt;NA&gt;           118
5        8 None          2993
6        9 &lt;NA&gt;            11</code></pre>
</div>
</div>
<div id="demographics-23-items" class="section level3">
<h3><span class="header-section-number">17.4.8</span> Demographics (23 items)</h3>
<div id="ageg5yr-which-well-edit-into-agegroup" class="section level4">
<h4><span class="header-section-number">17.4.8.1</span> <code>_AGEG5YR</code>, which we’ll edit into <code>agegroup</code></h4>
<p>The <code>_AGEG5YR</code> variable is a calculated variable (by CDC) obtained from the subject’s age. Since the <code>age</code> data are not available, we instead get these groupings, which we’ll rearrange into the <code>agegroup</code> factor.</p>
<table>
<thead>
<tr class="header">
<th align="right"><code>_AGEG5YR</code></th>
<th>Age range</th>
<th><code>agegroup</code></th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td align="right">1</td>
<td>18 &lt;= AGE &lt;= 24</td>
<td>18-24</td>
</tr>
<tr class="even">
<td align="right">2</td>
<td>25 &lt;= AGE &lt;= 29</td>
<td>25-29</td>
</tr>
<tr class="odd">
<td align="right">3</td>
<td>30 &lt;= AGE &lt;= 34</td>
<td>30-34</td>
</tr>
<tr class="even">
<td align="right">4</td>
<td>35 &lt;= AGE &lt;= 39</td>
<td>35-39</td>
</tr>
<tr class="odd">
<td align="right">5</td>
<td>40 &lt;= AGE &lt;= 44</td>
<td>40-44</td>
</tr>
<tr class="even">
<td align="right">6</td>
<td>45 &lt;= AGE &lt;= 49</td>
<td>45-49</td>
</tr>
<tr class="odd">
<td align="right">7</td>
<td>50 &lt;= AGE &lt;= 54</td>
<td>50-54</td>
</tr>
<tr class="even">
<td align="right">8</td>
<td>55 &lt;= AGE &lt;= 59</td>
<td>55-59</td>
</tr>
<tr class="odd">
<td align="right">9</td>
<td>60 &lt;= AGE &lt;= 64</td>
<td>60-64</td>
</tr>
<tr class="even">
<td align="right">10</td>
<td>65 &lt;= AGE &lt;= 69</td>
<td>65-69</td>
</tr>
<tr class="odd">
<td align="right">11</td>
<td>70 &lt;= AGE &lt;= 74</td>
<td>70-74</td>
</tr>
<tr class="even">
<td align="right">12</td>
<td>75 &lt;= AGE &lt;= 79</td>
<td>75-79</td>
</tr>
<tr class="odd">
<td align="right">13</td>
<td>AGE &gt;= 80</td>
<td>80plus</td>
</tr>
<tr class="even">
<td align="right">14</td>
<td>Don’t Know, Refused or Missing</td>
<td>NA</td>
</tr>
</tbody>
</table>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">agegroup =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(<span class="st">`</span><span class="dt">_AGEG5YR</span><span class="st">`</span>),
                                <span class="st">&quot;18-24&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;25-29&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;30-34&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;35-39&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                <span class="st">&quot;40-44&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="st">&quot;45-49&quot;</span> =<span class="st"> &quot;6&quot;</span>,
                                <span class="st">&quot;50-54&quot;</span> =<span class="st"> &quot;7&quot;</span>,
                                <span class="st">&quot;55-59&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                <span class="st">&quot;60-64&quot;</span> =<span class="st"> &quot;9&quot;</span>,
                                <span class="st">&quot;65-69&quot;</span> =<span class="st"> &quot;10&quot;</span>,
                                <span class="st">&quot;70-74&quot;</span> =<span class="st"> &quot;11&quot;</span>,
                                <span class="st">&quot;75-79&quot;</span> =<span class="st"> &quot;12&quot;</span>,
                                <span class="st">&quot;80-96&quot;</span> =<span class="st"> &quot;13&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;14&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(<span class="st">`</span><span class="dt">_AGEG5YR</span><span class="st">`</span>, agegroup)</code></pre></div>
<pre><code># A tibble: 14 x 3
   `_AGEG5YR` agegroup     n
        &lt;int&gt; &lt;fct&gt;    &lt;int&gt;
 1          1 18-24      348
 2          2 25-29      280
 3          3 30-34      322
 4          4 35-39      298
 5          5 40-44      346
 6          6 45-49      437
 7          7 50-54      504
 8          8 55-59      666
 9          9 60-64      651
10         10 65-69      711
11         11 70-74      482
12         12 75-79      395
13         13 80-96      498
14         14 &lt;NA&gt;        76</code></pre>
</div>
<div id="sex-recoded-to-female" class="section level4">
<h4><span class="header-section-number">17.4.8.2</span> <code>SEX</code> recoded to <code>female</code></h4>
<p>The available levels of <code>SEX</code> are:</p>
<ul>
<li>1 = Male</li>
<li>2 = Female</li>
<li>9 = Refused</li>
</ul>
<p>We’ll recode that to <code>female</code> = 1 for Female, 0 Male, otherwise NA. Note the trick here is to subtract one from the coded <code>SEX</code> to get the desired <code>female</code>, but this requires that we move 9 to NA, rather than 9.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">female =</span> SEX <span class="op">-</span><span class="st"> </span><span class="dv">1</span>,
           <span class="dt">female =</span> <span class="kw">replace</span>(female, female <span class="op">==</span><span class="st"> </span><span class="dv">8</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(SEX, female)</code></pre></div>
<pre><code># A tibble: 3 x 3
    SEX female     n
  &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;
1     1     0.  2559
2     2     1.  3454
3     9    NA      1</code></pre>
</div>
<div id="marital-status-revised-to-marital" class="section level4">
<h4><span class="header-section-number">17.4.8.3</span> <code>MARITAL</code> status, revised to <code>marital</code></h4>
<p>The available levels of <code>MARITAL</code> are:</p>
<ul>
<li>1 = Married</li>
<li>2 = Divorced</li>
<li>3 = Widowed</li>
<li>4 = Separated</li>
<li>5 = Never married</li>
<li>6 = A member of an unmarried couple</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll just turn this into a factor, and move 9 to NA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">marital =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(MARITAL),
                                <span class="st">&quot;Married&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;Divorced&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;Widowed&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;Separated&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                <span class="st">&quot;Never_Married&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="st">&quot;Unmarried_Couple&quot;</span> =<span class="st"> &quot;6&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(MARITAL, marital)</code></pre></div>
<pre><code># A tibble: 7 x 3
  MARITAL marital              n
    &lt;int&gt; &lt;fct&gt;            &lt;int&gt;
1       1 Married           2989
2       2 Divorced           888
3       3 Widowed            813
4       4 Separated          107
5       5 Never_Married     1019
6       6 Unmarried_Couple   148
7       9 &lt;NA&gt;                50</code></pre>
</div>
<div id="educa-recoded-to-educgroup" class="section level4">
<h4><span class="header-section-number">17.4.8.4</span> <code>EDUCA</code> recoded to <code>educgroup</code></h4>
<p>The available levels of <code>EDUCA</code> (Education Level) are responses to: “What is the highest grade or year of school you completed?”</p>
<ul>
<li>1 = Never attended school or only kindergarten</li>
<li>2 = Grades 1 through 8 (Elementary)</li>
<li>3 = Grades 9 through 11 (Some high school)</li>
<li>4 = Grade 12 or GED (High school graduate)</li>
<li>5 = College 1 year to 3 years (Some college or technical school)</li>
<li>6 = College 4 years or more (College graduate)</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll just turn this into a factor, and move 9 to NA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">educgroup =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(EDUCA),
                                <span class="st">&quot;Kindergarten&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;Elementary&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;Some_HS&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;HS_Grad&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                <span class="st">&quot;Some_College&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="st">&quot;College_Grad&quot;</span> =<span class="st"> &quot;6&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(EDUCA, educgroup)</code></pre></div>
<pre><code># A tibble: 7 x 3
  EDUCA educgroup        n
  &lt;int&gt; &lt;fct&gt;        &lt;int&gt;
1     1 Kindergarten     5
2     2 Elementary      80
3     3 Some_HS        287
4     4 HS_Grad       1745
5     5 Some_College  1611
6     6 College_Grad  2270
7     9 &lt;NA&gt;            16</code></pre>
</div>
<div id="renthom1-recoded-to-home.own" class="section level4">
<h4><span class="header-section-number">17.4.8.5</span> <code>RENTHOM1</code> recoded to <code>home.own</code></h4>
<p>The available levels of <code>RENTHOM1</code> (Own or Rent Home) are responses to: “Do you own or rent your home? (Home is defined as the place where you live most of the time/the majority of the year.)”</p>
<ul>
<li>1 = Own</li>
<li>2 = Rent</li>
<li>3 = Other Arrangement</li>
<li>7 = Don’t know/Not Sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll recode as <code>home.own</code> = 1 if they own their home, and 0 otherwise, and dealing with missingness properly.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">home.own =</span> RENTHOM1,
           <span class="dt">home.own =</span> <span class="kw">replace</span>(home.own, home.own <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>,<span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">home.own =</span> <span class="kw">replace</span>(home.own, home.own <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">2</span>,<span class="dv">3</span>), <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(RENTHOM1, home.own)</code></pre></div>
<pre><code># A tibble: 5 x 3
  RENTHOM1 home.own     n
     &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
1        1       1.  4296
2        2       0.  1486
3        3       0.   196
4        7      NA      9
5        9      NA     27</code></pre>
</div>
<div id="numhhol2-and-its-cleanup-to-phones2" class="section level4">
<h4><span class="header-section-number">17.4.8.6</span> <code>NUMHHOL2</code> and its cleanup to <code>phones2</code></h4>
<p><code>NUMHHOL2</code>, the Household Telephones variable, is the response to “Do you have more than one telephone number in your household? Do not include cell phones or numbers that are only used by a computer or fax machine.”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">phones2 =</span> NUMHHOL2,
           <span class="dt">phones2 =</span> <span class="kw">replace</span>(phones2, phones2 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">phones2 =</span> <span class="kw">replace</span>(phones2, phones2 <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(NUMHHOL2, phones2)</code></pre></div>
<pre><code># A tibble: 5 x 3
  NUMHHOL2 phones2     n
     &lt;int&gt;   &lt;dbl&gt; &lt;int&gt;
1        1      1.   222
2        2      0.  3151
3        7     NA      2
4        9     NA      8
5       NA     NA   2631</code></pre>
</div>
<div id="numphon2-and-its-cleanup-to-numphones" class="section level4">
<h4><span class="header-section-number">17.4.8.7</span> <code>NUMPHON2</code> and its cleanup to <code>numphones</code></h4>
<p><code>NUMPHON2</code>, the Residential Phones variable, is the response to “How many of these telephone numbers are residential numbers?”</p>
<ul>
<li>1-6 = legitimate responses (6 = 6 or more)</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">numphones =</span> NUMPHON2,
           <span class="dt">numphones =</span> <span class="kw">replace</span>(numphones, numphones <span class="op">&gt;</span><span class="st"> </span><span class="dv">6</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(NUMPHON2, numphones) </code></pre></div>
<pre><code># A tibble: 9 x 3
  NUMPHON2 numphones     n
     &lt;int&gt;     &lt;int&gt; &lt;int&gt;
1        1         1   131
2        2         2    66
3        3         3    10
4        4         4     5
5        5         5     4
6        6         6     2
7        7        NA     2
8        9        NA     2
9       NA        NA  5792</code></pre>
</div>
<div id="veteran3-and-its-cleanup-to-veteran" class="section level4">
<h4><span class="header-section-number">17.4.8.8</span> <code>VETERAN3</code> and its cleanup to <code>veteran</code></h4>
<p><code>VETERAN3</code>, the Are You A Veteran variable, is the response to “Have you ever served on active duty in the United States Armed Forces, either in the regular military or in a National Guard or military reserve unit? (Active duty does not include training for the Reserves or National Guard, but DOES include activation, for example, for the Persian Gulf War.)”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">veteran =</span> VETERAN3,
           <span class="dt">veteran =</span> <span class="kw">replace</span>(veteran, veteran <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">veteran =</span> <span class="kw">replace</span>(veteran, veteran <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(VETERAN3, veteran)</code></pre></div>
<pre><code># A tibble: 5 x 3
  VETERAN3 veteran     n
     &lt;int&gt;   &lt;dbl&gt; &lt;int&gt;
1        1      1.   736
2        2      0.  5264
3        7     NA      1
4        9     NA     12
5       NA     NA      1</code></pre>
</div>
<div id="employ1-and-its-cleanup-to-employment" class="section level4">
<h4><span class="header-section-number">17.4.8.9</span> <code>EMPLOY1</code> and its cleanup to <code>employment</code></h4>
<p><code>EMPLOY1</code>, the Employment Status variable, is the response to “Are you currently … ?”</p>
<ul>
<li>1 = Employed for wages</li>
<li>2 = Self-employed</li>
<li>3 = Out of work for 1 year or more</li>
<li>4 = Out of work for less than 1 year</li>
<li>5 = A homemaker</li>
<li>6 = A student</li>
<li>7 = Retired</li>
<li>8 = Unable to work</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll just turn this into a factor, and move 9 to NA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">employment =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(EMPLOY1),
                                <span class="st">&quot;Employed_for_wages&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;Self-employed&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;Outofwork_1yearormore&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;Outofwork_lt1year&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                <span class="st">&quot;Homemaker&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="st">&quot;Student&quot;</span> =<span class="st"> &quot;6&quot;</span>,
                                <span class="st">&quot;Retired&quot;</span> =<span class="st"> &quot;7&quot;</span>,
                                <span class="st">&quot;Unable_to_work&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;9&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(EMPLOY1, employment)</code></pre></div>
<pre><code># A tibble: 10 x 3
   EMPLOY1 employment                n
     &lt;int&gt; &lt;fct&gt;                 &lt;int&gt;
 1       1 Employed_for_wages     2614
 2       2 Self-employed           378
 3       3 Outofwork_1yearormore   103
 4       4 Outofwork_lt1year       110
 5       5 Homemaker               302
 6       6 Student                 144
 7       7 Retired                1868
 8       8 Unable_to_work          453
 9       9 &lt;NA&gt;                     41
10      NA &lt;NA&gt;                      1</code></pre>
</div>
<div id="children-and-its-cleanup-to-numkids" class="section level4">
<h4><span class="header-section-number">17.4.8.10</span> <code>CHILDREN</code> and its cleanup to <code>numkids</code></h4>
<p><code>CHILDREN</code>, the Number of Children in Household variable, is the response to “How many children less than 18 years of age live in your household?”</p>
<ul>
<li>1-87 = legitimate responses</li>
<li>88 = None</li>
<li>99 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">numkids =</span> CHILDREN,
           <span class="dt">numkids =</span> <span class="kw">replace</span>(numkids, numkids <span class="op">==</span><span class="st"> </span><span class="dv">99</span>, <span class="ot">NA</span>),
           <span class="dt">numkids =</span> <span class="kw">replace</span>(numkids, numkids <span class="op">==</span><span class="st"> </span><span class="dv">88</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(CHILDREN, numkids) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  CHILDREN numkids     n
     &lt;int&gt;   &lt;dbl&gt; &lt;int&gt;
1        7      7.     2
2        8      8.     2
3        9      9.     4
4       88      0.  4408
5       99     NA     39
6       NA     NA      1</code></pre>
</div>
<div id="income2-to-incomegroup" class="section level4">
<h4><span class="header-section-number">17.4.8.11</span> <code>INCOME2</code> to <code>incomegroup</code></h4>
<p>The available levels of <code>INCOME2</code> (Income Level) are responses to: “Is your annual household income from all sources …”</p>
<ul>
<li>1 = Less than $10,000</li>
<li>2 = $10,000 to less than $15,000</li>
<li>3 = $15,000 to less than $20,000</li>
<li>4 = $20,000 to less than $25,000</li>
<li>5 = $25,000 to less than $35,000</li>
<li>6 = $35,000 to less than $50,000</li>
<li>7 = $50,000 to less than $75,000</li>
<li>8 = $75,000 or more</li>
<li>77 = Don’t know/Not sure</li>
<li>99 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<p>We’ll just turn this into a factor, and move 77 and 99 to NA.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">incomegroup =</span> <span class="kw">fct_recode</span>(<span class="kw">factor</span>(<span class="st">`</span><span class="dt">INCOME2</span><span class="st">`</span>),
                                <span class="st">&quot;0-9K&quot;</span> =<span class="st"> &quot;1&quot;</span>,
                                <span class="st">&quot;10-14K&quot;</span> =<span class="st"> &quot;2&quot;</span>,
                                <span class="st">&quot;15-19K&quot;</span> =<span class="st"> &quot;3&quot;</span>,
                                <span class="st">&quot;20-24K&quot;</span> =<span class="st"> &quot;4&quot;</span>,
                                <span class="st">&quot;25-34K&quot;</span> =<span class="st"> &quot;5&quot;</span>,
                                <span class="st">&quot;35-49K&quot;</span> =<span class="st"> &quot;6&quot;</span>,
                                <span class="st">&quot;50-74K&quot;</span> =<span class="st"> &quot;7&quot;</span>,
                                <span class="st">&quot;75K+&quot;</span> =<span class="st"> &quot;8&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;77&quot;</span>,
                                <span class="dt">NULL =</span> <span class="st">&quot;99&quot;</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(<span class="st">`</span><span class="dt">INCOME2</span><span class="st">`</span>, incomegroup)</code></pre></div>
<pre><code># A tibble: 11 x 3
   INCOME2 incomegroup     n
     &lt;int&gt; &lt;fct&gt;       &lt;int&gt;
 1       1 0-9K          212
 2       2 10-14K        235
 3       3 15-19K        374
 4       4 20-24K        482
 5       5 25-34K        567
 6       6 35-49K        723
 7       7 50-74K        814
 8       8 75K+         1631
 9      77 &lt;NA&gt;          387
10      99 &lt;NA&gt;          565
11      NA &lt;NA&gt;           24</code></pre>
</div>
<div id="internet-and-its-cleanup-to-internet30" class="section level4">
<h4><span class="header-section-number">17.4.8.12</span> <code>INTERNET</code> and its cleanup to <code>internet30</code></h4>
<p><code>INTERNET</code>, the Internet use in the past 30 days variable, is the response to “Have you used the internet in the past 30 days?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">internet30 =</span> INTERNET,
           <span class="dt">internet30 =</span> <span class="kw">replace</span>(internet30, internet30 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">internet30 =</span> <span class="kw">replace</span>(internet30, internet30 <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(INTERNET, internet30)</code></pre></div>
<pre><code># A tibble: 5 x 3
  INTERNET internet30     n
     &lt;int&gt;      &lt;dbl&gt; &lt;int&gt;
1        1         1.  4895
2        2         0.  1078
3        7        NA      6
4        9        NA      6
5       NA        NA     29</code></pre>
</div>
<div id="wtkg3-is-weight_kg" class="section level4">
<h4><span class="header-section-number">17.4.8.13</span> <code>WTKG3</code> is <code>weight_kg</code></h4>
<p><code>WTKG3</code> is computed by CDC, as the respondent’s weight in kilograms with two implied decimal places. We calculate the actual weight in kg, with the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">weight_kg =</span> WTKG3<span class="op">/</span><span class="dv">100</span>)

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(WTKG3, weight_kg)<span class="co"># %&gt;% tail()</span></code></pre></div>
<pre><code># A tibble: 257 x 3
   WTKG3 weight_kg     n
   &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;
 1  3084      30.8     1
 2  3266      32.7     1
 3  3447      34.5     1
 4  3629      36.3     2
 5  3674      36.7     1
 6  3856      38.6     3
 7  3946      39.5     1
 8  4037      40.4     1
 9  4082      40.8     3
10  4128      41.3     1
# ... with 247 more rows</code></pre>
</div>
<div id="height3-is-replaced-with-height_m" class="section level4">
<h4><span class="header-section-number">17.4.8.14</span> <code>HEIGHT3</code> is replaced with <code>height_m</code></h4>
<p><code>HEIGHT3</code> is strangely gathered to allow people to specify their height in either feet and inches or in meters and centimeters.</p>
<ul>
<li>200-711 indicates height in feet (first digit) and inches (second two digits)</li>
<li>9000 - 9998 indicates height in meters (second digit) and centimeters (last two digits)</li>
<li>7777 = Don’t know/Not sure</li>
<li>9999 = Refused</li>
</ul>
<p>Note that there is one impossible value of 575 in the data set. We’ll make that an NA, and we’ll also make NA any heights below 3 feet, or above 2.24 meters. Specifically, we calculate the actual height in meters, with the following:</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">height_m =</span> <span class="kw">case_when</span>(
        HEIGHT3 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">300</span> <span class="op">&amp;</span><span class="st"> </span>HEIGHT3 <span class="op">&lt;=</span><span class="st"> </span><span class="dv">511</span> <span class="op">~</span><span class="st"> </span><span class="kw">round</span>((<span class="dv">12</span><span class="op">*</span><span class="kw">floor</span>(HEIGHT3<span class="op">/</span><span class="dv">100</span>) <span class="op">+</span><span class="st"> </span>(HEIGHT3 <span class="op">-</span><span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">floor</span>(HEIGHT3<span class="op">/</span><span class="dv">100</span>)))<span class="op">*</span><span class="fl">0.0254</span>,<span class="dv">2</span>),
        HEIGHT3 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">600</span> <span class="op">&amp;</span><span class="st"> </span>HEIGHT3 <span class="op">&lt;=</span><span class="st"> </span><span class="dv">711</span> <span class="op">~</span><span class="st"> </span><span class="kw">round</span>((<span class="dv">12</span><span class="op">*</span><span class="kw">floor</span>(HEIGHT3<span class="op">/</span><span class="dv">100</span>) <span class="op">+</span><span class="st"> </span>(HEIGHT3 <span class="op">-</span><span class="st"> </span><span class="dv">100</span><span class="op">*</span><span class="kw">floor</span>(HEIGHT3<span class="op">/</span><span class="dv">100</span>)))<span class="op">*</span><span class="fl">0.0254</span>,<span class="dv">2</span>),
        HEIGHT3 <span class="op">&gt;=</span><span class="st"> </span><span class="dv">9000</span> <span class="op">&amp;</span><span class="st"> </span>HEIGHT3 <span class="op">&lt;=</span><span class="st"> </span><span class="dv">9224</span> <span class="op">~</span><span class="st"> </span>((HEIGHT3 <span class="op">-</span><span class="st"> </span><span class="dv">9000</span>)<span class="op">/</span><span class="dv">100</span>)))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(HEIGHT3, height_m) <span class="co"># %&gt;% tail()</span></code></pre></div>
<pre><code># A tibble: 35 x 3
   HEIGHT3 height_m     n
     &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
 1     406     1.37     1
 2     407     1.40     1
 3     408     1.42     4
 4     409     1.45    14
 5     410     1.47    23
 6     411     1.50    63
 7     500     1.52   184
 8     501     1.55   171
 9     502     1.57   415
10     503     1.60   408
# ... with 25 more rows</code></pre>
</div>
<div id="bmi-is-calculated-from-height_m-and-weight_kg" class="section level4">
<h4><span class="header-section-number">17.4.8.15</span> <code>bmi</code> is calculated from <code>height_m</code> and <code>weight_kg</code></h4>
<p>We’ll calculate body-mass index from height and weight.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">bmi =</span> <span class="kw">round</span>(weight_kg<span class="op">/</span>(height_m)<span class="op">^</span><span class="dv">2</span>,<span class="dv">2</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(height_m, weight_kg, bmi)<span class="co"># %&gt;% tail()</span></code></pre></div>
<pre><code># A tibble: 1,579 x 4
   height_m weight_kg   bmi     n
      &lt;dbl&gt;     &lt;dbl&gt; &lt;dbl&gt; &lt;int&gt;
 1     1.37      68.0  36.2     1
 2     1.40      81.6  41.7     1
 3     1.42      40.4  20.0     1
 4     1.42      66.2  32.8     1
 5     1.42      72.6  36.0     2
 6     1.45      44.4  21.1     1
 7     1.45      45.4  21.6     1
 8     1.45      46.7  22.2     1
 9     1.45      52.2  24.8     2
10     1.45      53.5  25.5     1
# ... with 1,569 more rows</code></pre>
</div>
<div id="bmigroup-is-calculated-from-bmi" class="section level4">
<h4><span class="header-section-number">17.4.8.16</span> <code>bmigroup</code> is calculated from <code>bmi</code></h4>
<p>We’ll then divide the respondents into adult BMI categories, in the usual way.</p>
<ul>
<li>BMI &lt; 18.5 indicates underweight</li>
<li>BMI from 18.5 up to 25 indicates normal weight</li>
<li>BMI from 25 up to 30 indicates overweight</li>
<li>BMI of 30 and higher indicates obesity</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">bmigroup =</span> <span class="kw">factor</span>(<span class="kw">cut2</span>(<span class="kw">as.numeric</span>(bmi), 
                           <span class="dt">cuts =</span> <span class="kw">c</span>(<span class="fl">18.5</span>, <span class="fl">25.0</span>, <span class="fl">30.0</span>))))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(bmigroup)</code></pre></div>
<pre><code># A tibble: 5 x 2
  bmigroup          n
  &lt;fct&gt;         &lt;int&gt;
1 [ 11.6, 18.5)   101
2 [ 18.5, 25.0)  1722
3 [ 25.0, 30.0)  2001
4 [ 30.0,110.9]  1765
5 &lt;NA&gt;            425</code></pre>
</div>
<div id="pregnant-and-its-cleanup-to-pregnant" class="section level4">
<h4><span class="header-section-number">17.4.8.17</span> <code>PREGNANT</code> and its cleanup to <code>pregnant</code></h4>
<p><code>PREGNANT</code>, the Pregnancy Status variable, is the response to “To your knowledge, are you now pregnant?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing (includes SEX = male)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">pregnant =</span> PREGNANT,
           <span class="dt">pregnant =</span> <span class="kw">replace</span>(pregnant, pregnant <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">pregnant =</span> <span class="kw">replace</span>(pregnant, pregnant <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(PREGNANT, pregnant)</code></pre></div>
<pre><code># A tibble: 5 x 3
  PREGNANT pregnant     n
     &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
1        1       1.    33
2        2       0.   797
3        7      NA      5
4        9      NA      1
5       NA      NA   5178</code></pre>
</div>
<div id="deaf-and-its-cleanup-to-deaf" class="section level4">
<h4><span class="header-section-number">17.4.8.18</span> <code>DEAF</code> and its cleanup to <code>deaf</code></h4>
<p><code>DEAF</code>, the Are you deaf or do you have serious difficulty hearing variable, is the response to “Are you deaf or do you have serious difficulty hearing?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">deaf =</span> DEAF,
           <span class="dt">deaf =</span> <span class="kw">replace</span>(deaf, deaf <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">deaf =</span> <span class="kw">replace</span>(deaf, deaf <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DEAF, deaf)</code></pre></div>
<pre><code># A tibble: 5 x 3
   DEAF  deaf     n
  &lt;int&gt; &lt;dbl&gt; &lt;int&gt;
1     1    1.   507
2     2    0.  5392
3     7   NA      9
4     9   NA      7
5    NA   NA     99</code></pre>
</div>
<div id="blind-and-its-cleanup-to-blind" class="section level4">
<h4><span class="header-section-number">17.4.8.19</span> <code>BLIND</code> and its cleanup to <code>blind</code></h4>
<p><code>BLIND</code>, the Blind or Difficulty seeing variable, is the response to “Are you blind or do you have serious difficulty seeing, even when wearing glasses?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">blind =</span> BLIND,
           <span class="dt">blind =</span> <span class="kw">replace</span>(blind, blind <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">blind =</span> <span class="kw">replace</span>(blind, blind <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(BLIND, blind)</code></pre></div>
<pre><code># A tibble: 5 x 3
  BLIND blind     n
  &lt;int&gt; &lt;dbl&gt; &lt;int&gt;
1     1    1.   290
2     2    0.  5605
3     7   NA      9
4     9   NA      2
5    NA   NA    108</code></pre>
</div>
<div id="decide-and-its-cleanup-to-decide" class="section level4">
<h4><span class="header-section-number">17.4.8.20</span> <code>DECIDE</code> and its cleanup to <code>decide</code></h4>
<p><code>DECIDE</code>, the Difficulty Concentrating or Remembering variable, is the response to “Because of a physical, mental, or emotional condition, do you have serious difficulty concentrating, remembering, or making decisions?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">decide =</span> DECIDE,
           <span class="dt">decide =</span> <span class="kw">replace</span>(decide, decide <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">decide =</span> <span class="kw">replace</span>(decide, decide <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DECIDE, decide)</code></pre></div>
<pre><code># A tibble: 5 x 3
  DECIDE decide     n
   &lt;int&gt;  &lt;dbl&gt; &lt;int&gt;
1      1     1.   583
2      2     0.  5293
3      7    NA     16
4      9    NA      5
5     NA    NA    117</code></pre>
</div>
<div id="diffwalk-and-its-cleanup-to-diffwalk" class="section level4">
<h4><span class="header-section-number">17.4.8.21</span> <code>DIFFWALK</code> and its cleanup to <code>diffwalk</code></h4>
<p><code>DIFFWALK</code>, the Difficulty Walking or Climbing Stairs variable, is the response to “Do you have serious difficulty walking or climbing stairs?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">diffwalk =</span> DIFFWALK,
           <span class="dt">diffwalk =</span> <span class="kw">replace</span>(diffwalk, diffwalk <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">diffwalk =</span> <span class="kw">replace</span>(diffwalk, diffwalk <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DIFFWALK, diffwalk)</code></pre></div>
<pre><code># A tibble: 5 x 3
  DIFFWALK diffwalk     n
     &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
1        1       1.  1036
2        2       0.  4841
3        7      NA     11
4        9      NA      5
5       NA      NA    121</code></pre>
</div>
<div id="diffdres-and-its-cleanup-to-diffdress" class="section level4">
<h4><span class="header-section-number">17.4.8.22</span> <code>DIFFDRES</code> and its cleanup to <code>diffdress</code></h4>
<p><code>DIFFDRES</code>, the Difficulty Dressing or Bathing variable, is the response to “Do you have difficulty dressing or bathing?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">diffdress =</span> DIFFDRES,
           <span class="dt">diffdress =</span> <span class="kw">replace</span>(diffdress, diffdress <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">diffdress =</span> <span class="kw">replace</span>(diffdress, diffdress <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DIFFDRES, diffdress)</code></pre></div>
<pre><code># A tibble: 5 x 3
  DIFFDRES diffdress     n
     &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;
1        1        1.   221
2        2        0.  5658
3        7       NA      3
4        9       NA      2
5       NA       NA    130</code></pre>
</div>
<div id="diffalon-and-its-cleanup-to-diffalone" class="section level4">
<h4><span class="header-section-number">17.4.8.23</span> <code>DIFFALON</code> and its cleanup to <code>diffalone</code></h4>
<p><code>DIFFALON</code>, the Difficulty Doing Errands Alone variable, is the response to “Because of a physical, mental, or emotional condition, do you have difficulty doing errands alone such as visiting a doctor’s office or shopping?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
<li>BLANK = Not asked or missing</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">diffalone =</span> DIFFALON,
           <span class="dt">diffalone =</span> <span class="kw">replace</span>(diffalone, diffalone <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">diffalone =</span> <span class="kw">replace</span>(diffalone, diffalone <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(DIFFALON, diffalone)</code></pre></div>
<pre><code># A tibble: 5 x 3
  DIFFALON diffalone     n
     &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;
1        1        1.   437
2        2        0.  5419
3        7       NA     13
4        9       NA      6
5       NA       NA    139</code></pre>
</div>
</div>
<div id="tobacco-use-5-items" class="section level3">
<h3><span class="header-section-number">17.4.9</span> Tobacco Use (5 items)</h3>
<div id="smoke100-and-its-cleanup-to-smoke100" class="section level4">
<h4><span class="header-section-number">17.4.9.1</span> <code>SMOKE100</code> and its cleanup to <code>smoke100</code></h4>
<p><code>SMOKE100</code>, the Smoked at Least 100 Cigarettes variable, is the response to “Have you smoked at least 100 cigarettes in your entire life? [Note: 5 packs = 100 cigarettes]”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">smoke100 =</span> SMOKE100,
           <span class="dt">smoke100 =</span> <span class="kw">replace</span>(smoke100, smoke100 <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">smoke100 =</span> <span class="kw">replace</span>(smoke100, smoke100 <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(SMOKE100, smoke100)</code></pre></div>
<pre><code># A tibble: 5 x 3
  SMOKE100 smoke100     n
     &lt;int&gt;    &lt;dbl&gt; &lt;int&gt;
1        1       1.  2567
2        2       0.  3260
3        7      NA     30
4        9      NA      6
5       NA      NA    151</code></pre>
</div>
<div id="smokday2" class="section level4">
<h4><span class="header-section-number">17.4.9.2</span> <code>SMOKDAY2</code></h4>
</div>
<div id="stopsmk2" class="section level4">
<h4><span class="header-section-number">17.4.9.3</span> <code>STOPSMK2</code></h4>
</div>
<div id="lastsmk2" class="section level4">
<h4><span class="header-section-number">17.4.9.4</span> <code>LASTSMK2</code></h4>
</div>
<div id="usenow3" class="section level4">
<h4><span class="header-section-number">17.4.9.5</span> <code>USENOW3</code></h4>
</div>
</div>
<div id="e-cigarettes-2-items" class="section level3">
<h3><span class="header-section-number">17.4.10</span> E-Cigarettes (2 items)</h3>
<div id="ecigaret-and-its-cleanup-to-ecig.ever" class="section level4">
<h4><span class="header-section-number">17.4.10.1</span> <code>ECIGARET</code> and its cleanup to <code>ecig.ever</code></h4>
<p><code>ECIGARET</code>, the Ever used an e-cigarette variable, is the response to “Have you ever used an e-cigarette or other electronic vaping product, even just one time, in your entire life?”</p>
<ul>
<li>1 = Yes</li>
<li>2 = No</li>
<li>7 = Don’t know/Not sure</li>
<li>9 = Refused</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">ecig.ever =</span> ECIGARET,
           <span class="dt">ecig.ever =</span> <span class="kw">replace</span>(ecig.ever, ecig.ever <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">7</span>, <span class="dv">9</span>), <span class="ot">NA</span>),
           <span class="dt">ecig.ever =</span> <span class="kw">replace</span>(ecig.ever, ecig.ever <span class="op">==</span><span class="st"> </span><span class="dv">2</span>, <span class="dv">0</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(ECIGARET, ecig.ever)</code></pre></div>
<pre><code># A tibble: 5 x 3
  ECIGARET ecig.ever     n
     &lt;int&gt;     &lt;dbl&gt; &lt;int&gt;
1        1        1.  1028
2        2        0.  4818
3        7       NA      8
4        9       NA      1
5       NA       NA    159</code></pre>
</div>
<div id="ecignow" class="section level4">
<h4><span class="header-section-number">17.4.10.2</span> <code>ECIGNOW</code></h4>
</div>
</div>
<div id="alcohol-consumption-4-items" class="section level3">
<h3><span class="header-section-number">17.4.11</span> Alcohol Consumption (4 items)</h3>
<div id="alcday5-and-its-cleanup-to-alcdays" class="section level4">
<h4><span class="header-section-number">17.4.11.1</span> <code>ALCDAY5</code> and its cleanup to <code>alcdays</code></h4>
<p><code>ALCDAY5</code>, the Days in past 30 had alcoholic beverage variable, is the response to “During the past 30 days, how many days per week or per month did you have at least one drink of any alcoholic beverage such as beer, wine, a malt beverage or liquor?”</p>
<ul>
<li>101-107 = # of days per week (101 = 1 day per week, 107 = 7 days per week)</li>
<li>201-230 = # of days in past 30 days (201 = 1 day in last 30, 230 = 30 days in last 30)</li>
<li>777 = Don’t know/Not sure</li>
<li>888 = No drinks in past 30 days</li>
<li>999 = Refused</li>
<li>BLANK = Not asked or Missing</li>
</ul>
<p>We’re going to convert this to a single numeric value. Answers in days per week (in the past 7 days) will be converted (after rounding) to days in the past 30. This is a little bit of a mess, really, but we can do it.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">alcdays =</span> <span class="kw">as.numeric</span>(ALCDAY5)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">alcdays =</span> <span class="kw">replace</span>(alcdays, alcdays <span class="op">==</span><span class="st"> </span><span class="dv">888</span>, <span class="dv">0</span>),
           <span class="dt">alcdays =</span> <span class="kw">replace</span>(alcdays, alcdays <span class="op">%in%</span><span class="st"> </span><span class="kw">c</span>(<span class="dv">777</span>, <span class="dv">999</span>), <span class="ot">NA</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">alcdays =</span> <span class="kw">case_when</span>(ALCDAY5 <span class="op">&gt;</span><span class="st"> </span><span class="dv">199</span> <span class="op">&amp;</span><span class="st"> </span>ALCDAY5 <span class="op">&lt;</span><span class="st"> </span><span class="dv">231</span> <span class="op">~</span><span class="st"> </span>ALCDAY5 <span class="op">-</span><span class="st"> </span><span class="dv">200</span>,
                               ALCDAY5 <span class="op">&gt;</span><span class="st"> </span><span class="dv">100</span> <span class="op">&amp;</span><span class="st"> </span>ALCDAY5 <span class="op">&lt;</span><span class="st"> </span><span class="dv">108</span> <span class="op">~</span><span class="st"> </span><span class="kw">round</span>((ALCDAY5 <span class="op">-</span><span class="st"> </span><span class="dv">100</span>)<span class="op">*</span><span class="dv">30</span><span class="op">/</span><span class="dv">7</span>,<span class="dv">0</span>),
                               <span class="ot">TRUE</span> <span class="op">~</span><span class="st"> </span>alcdays))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(ALCDAY5, alcdays)</code></pre></div>
<pre><code># A tibble: 38 x 3
   ALCDAY5 alcdays     n
     &lt;int&gt;   &lt;dbl&gt; &lt;int&gt;
 1     101      4.   256
 2     102      9.   197
 3     103     13.   142
 4     104     17.    62
 5     105     21.    51
 6     106     26.    11
 7     107     30.   124
 8     201      1.   471
 9     202      2.   363
10     203      3.   216
# ... with 28 more rows</code></pre>
</div>
<div id="avedrnk2-and-its-cleanup-to-avgdrinks" class="section level4">
<h4><span class="header-section-number">17.4.11.2</span> <code>AVEDRNK2</code> and its cleanup to <code>avgdrinks</code></h4>
<p><code>AVEDRNK2</code>, the Avg alcoholic drinks per day in past 30 variable, is the response to “One drink is equivalent to a 12-ounce beer, a 5-ounce glass of wine, or a drink with one shot of liquor. During the past 30 days, on the days when you drank, about how many drinks did you drink on the average? (A 40 ounce beer would count as 3 drinks, or a cocktail drink with 2 shots would count as 2 drinks.)”</p>
<ul>
<li>1-76 = # of drinks per day</li>
<li>77 = Don’t know/Not sure</li>
<li>99 = Refused</li>
<li>BLANK = Not asked or Missing (always happens when ALCDAY5 = 777, 888 or 999)</li>
</ul>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">avgdrinks =</span> AVEDRNK2,
           <span class="dt">avgdrinks =</span> <span class="kw">replace</span>(avgdrinks, avgdrinks <span class="op">&gt;</span><span class="st"> </span><span class="dv">76</span>, <span class="ot">NA</span>))

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(AVEDRNK2, avgdrinks) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  AVEDRNK2 avgdrinks     n
     &lt;int&gt;     &lt;int&gt; &lt;int&gt;
1       40        40     2
2       50        50     2
3       75        75     1
4       77        NA    36
5       99        NA    10
6       NA        NA  2981</code></pre>
</div>
<div id="drnk3ge5" class="section level4">
<h4><span class="header-section-number">17.4.11.3</span> <code>DRNK3GE5</code></h4>
</div>
<div id="maxdrnks" class="section level4">
<h4><span class="header-section-number">17.4.11.4</span> <code>MAXDRNKS</code></h4>
</div>
</div>
<div id="immunization-4-items" class="section level3">
<h3><span class="header-section-number">17.4.12</span> Immunization (4 items)</h3>
<div id="flushot6" class="section level4">
<h4><span class="header-section-number">17.4.12.1</span> <code>FLUSHOT6</code></h4>
</div>
<div id="flshtmy2" class="section level4">
<h4><span class="header-section-number">17.4.12.2</span> <code>FLSHTMY2</code></h4>
</div>
<div id="pneuvac3" class="section level4">
<h4><span class="header-section-number">17.4.12.3</span> <code>PNEUVAC3</code></h4>
</div>
<div id="tetanus" class="section level4">
<h4><span class="header-section-number">17.4.12.4</span> <code>TETANUS</code></h4>
</div>
</div>
<div id="falls-2-items" class="section level3">
<h3><span class="header-section-number">17.4.13</span> Falls (2 items)</h3>
<div id="fall12mn" class="section level4">
<h4><span class="header-section-number">17.4.13.1</span> <code>FALL12MN</code></h4>
</div>
<div id="fallinj2" class="section level4">
<h4><span class="header-section-number">17.4.13.2</span> <code>FALLINJ2</code></h4>
</div>
</div>
<div id="seatbelt-use-1-item" class="section level3">
<h3><span class="header-section-number">17.4.14</span> Seatbelt Use (1 item)</h3>
<div id="seatbelt" class="section level4">
<h4><span class="header-section-number">17.4.14.1</span> <code>SEATBELT</code></h4>
</div>
</div>
<div id="drinking-and-driving-1-item" class="section level3">
<h3><span class="header-section-number">17.4.15</span> Drinking and Driving (1 item)</h3>
<div id="drnkdri2" class="section level4">
<h4><span class="header-section-number">17.4.15.1</span> <code>DRNKDRI2</code></h4>
</div>
</div>
<div id="breast-and-cervical-cancer-screening-7-items" class="section level3">
<h3><span class="header-section-number">17.4.16</span> Breast and Cervical Cancer Screening (7 items)</h3>
<div id="hadmam" class="section level4">
<h4><span class="header-section-number">17.4.16.1</span> <code>HADMAM</code></h4>
</div>
<div id="howlong" class="section level4">
<h4><span class="header-section-number">17.4.16.2</span> <code>HOWLONG</code></h4>
</div>
<div id="hadpap2" class="section level4">
<h4><span class="header-section-number">17.4.16.3</span> <code>HADPAP2</code></h4>
</div>
<div id="lastpap2" class="section level4">
<h4><span class="header-section-number">17.4.16.4</span> <code>LASTPAP2</code></h4>
</div>
<div id="hpvtest" class="section level4">
<h4><span class="header-section-number">17.4.16.5</span> <code>HPVTEST</code></h4>
</div>
<div id="hplsttst" class="section level4">
<h4><span class="header-section-number">17.4.16.6</span> <code>HPLSTTST</code></h4>
</div>
<div id="hadhyst2" class="section level4">
<h4><span class="header-section-number">17.4.16.7</span> <code>HADHYST2</code></h4>
</div>
</div>
<div id="prostate-cancer-screening-6-items" class="section level3">
<h3><span class="header-section-number">17.4.17</span> Prostate Cancer Screening (6 items)</h3>
<div id="pcpsaad2" class="section level4">
<h4><span class="header-section-number">17.4.17.1</span> <code>PCPSAAD2</code></h4>
</div>
<div id="pcpsadi1" class="section level4">
<h4><span class="header-section-number">17.4.17.2</span> <code>PCPSADI1</code></h4>
</div>
<div id="pcpsare1" class="section level4">
<h4><span class="header-section-number">17.4.17.3</span> <code>PCPSARE1</code></h4>
</div>
<div id="psatest1" class="section level4">
<h4><span class="header-section-number">17.4.17.4</span> <code>PSATEST1</code></h4>
</div>
<div id="psatime" class="section level4">
<h4><span class="header-section-number">17.4.17.5</span> <code>PSATIME</code></h4>
</div>
<div id="pcpsars1" class="section level4">
<h4><span class="header-section-number">17.4.17.6</span> <code>PCPSARS1</code></h4>
</div>
</div>
<div id="colorectal-cancer-screening-5-items" class="section level3">
<h3><span class="header-section-number">17.4.18</span> Colorectal Cancer Screening (5 items)</h3>
<div id="bldstool" class="section level4">
<h4><span class="header-section-number">17.4.18.1</span> <code>BLDSTOOL</code></h4>
</div>
<div id="lstblds3" class="section level4">
<h4><span class="header-section-number">17.4.18.2</span> <code>LSTBLDS3</code></h4>
</div>
<div id="hadsigm3" class="section level4">
<h4><span class="header-section-number">17.4.18.3</span> <code>HADSIGM3</code></h4>
</div>
<div id="hadsgco1" class="section level4">
<h4><span class="header-section-number">17.4.18.4</span> <code>HADSGCO1</code></h4>
</div>
<div id="lastsig3" class="section level4">
<h4><span class="header-section-number">17.4.18.5</span> <code>LASTSIG3</code></h4>
</div>
</div>
<div id="hivaids-3-items" class="section level3">
<h3><span class="header-section-number">17.4.19</span> HIV/AIDS (3 items)</h3>
<div id="hivtst6" class="section level4">
<h4><span class="header-section-number">17.4.19.1</span> <code>HIVTST6</code></h4>
</div>
<div id="hivtstd3" class="section level4">
<h4><span class="header-section-number">17.4.19.2</span> <code>HIVTSTD3</code></h4>
</div>
<div id="hivrisk4" class="section level4">
<h4><span class="header-section-number">17.4.19.3</span> <code>HIVRISK4</code></h4>
</div>
</div>
</div>
<div id="creating-some-quantitative-variables-from-thin-air" class="section level2">
<h2><span class="header-section-number">17.5</span> Creating Some Quantitative Variables from Thin Air</h2>
<p>This section is purely for teaching purposes. I would never use the variables created in this section for research work.</p>
<div id="age_imp-creating-age-data-out-of-thin-air" class="section level3">
<h3><span class="header-section-number">17.5.1</span> <code>age_imp</code>: Creating Age Data out of Thin Air</h3>
<p>I want a quantitative age variable, so I’m going to create an imputed <code>age_imp</code> value for each subject based on their <code>agegroup</code>. For each age group, I will assume that each of the ages represented by a value in that age group will be equally likely, and will draw from the relevant uniform distribution to impute age.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">set.seed</span>(<span class="dv">20180114</span>)

smart.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">age_low =</span> <span class="kw">as.numeric</span>(<span class="kw">str_sub</span>(<span class="kw">as.character</span>(agegroup), <span class="dv">1</span>, <span class="dv">2</span>))) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">age_high =</span> <span class="kw">as.numeric</span>(<span class="kw">str_sub</span>(<span class="kw">as.character</span>(agegroup), <span class="dv">4</span>, <span class="dv">5</span>))) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">rowwise</span>() <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">mutate</span>(<span class="dt">age_imp =</span> <span class="kw">ifelse</span>(<span class="op">!</span><span class="kw">is.na</span>(agegroup), 
                            <span class="kw">round</span>(<span class="kw">runif</span>(<span class="dv">1</span>, <span class="dt">min =</span> age_low, <span class="dt">max =</span> age_high),<span class="dv">0</span>),
                            <span class="ot">NA</span>)) 

smart.raw <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">count</span>(agegroup, age_imp) <span class="op">%&gt;%</span><span class="st"> </span><span class="kw">tail</span>()</code></pre></div>
<pre><code># A tibble: 6 x 3
  agegroup age_imp     n
  &lt;fct&gt;      &lt;dbl&gt; &lt;int&gt;
1 80-96        92.    30
2 80-96        93.    30
3 80-96        94.    33
4 80-96        95.    33
5 80-96        96.    14
6 &lt;NA&gt;         NA     76</code></pre>
</div>
</div>
<div id="clean-data-in-the-state-of-ohio" class="section level2">
<h2><span class="header-section-number">17.6</span> Clean Data in the State of Ohio</h2>
<p>There are five MMSAs associated with the state of Ohio, associated with Cincinnati, Cleveland, Columbus, Dayton and Toledo.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart_ohio &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(MMSANAME, <span class="st">&#39;, OH&#39;</span>)) <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">    </span><span class="kw">select</span>(SEQNO, MMSANAME, hhadults, 
           genhealth, physhealth, menthealth, 
           poorhealth, healthplan, hasdoc, numdocs2, 
           costprob, checktime, exerany, sleephrs, 
           hx.mi, hx.chd, hx.stroke, hx.asthma, 
           now.asthma, hx.skinc, hx.otherc, hx.copd, 
           hx.arthr, hx.depress, hx.kidney, 
           hx.diabetes, diabetes3, diab.age, 
           denttime, remteeth, agegroup, female, 
           marital, educgroup, home.own, phones2, 
           numphones, veteran, employment, numkids, 
           incomegroup, internet30, weight_kg, 
           height_m, bmi, bmigroup, pregnant, deaf, 
           blind, decide, diffwalk, diffdress, 
           diffalone, smoke100, ecig.ever, alcdays, 
           avgdrinks, age_imp)

<span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))
<span class="kw">skim</span>(<span class="kw">select</span>(smart_ohio, <span class="op">-</span>SEQNO))</code></pre></div>
<pre><code>Skim summary statistics
 n obs: 6014 
 n variables: 57 

Variable type: character 
 variable missing complete    n min max empty n_unique
 MMSANAME       0     6014 6014  41  51     0        5

Variable type: factor 
    variable missing complete    n n_unique
    agegroup      76     5938 6014       13
    bmigroup     425     5589 6014        4
   checktime      73     5941 6014        5
    denttime      61     5953 6014        5
   diabetes3      10     6004 6014        4
   educgroup      16     5998 6014        6
  employment      42     5972 6014        8
   genhealth      12     6002 6014        5
 incomegroup     976     5038 6014        8
     marital      50     5964 6014        6
    numdocs2      24     5990 6014        3
    remteeth     129     5885 6014        4
                                top_counts ordered
    65-: 711, 55-: 666, 60-: 651, 50-: 504   FALSE
  [ 2: 2001, [ 3: 1765, [ 1: 1722, NA: 425   FALSE
   1_I: 4742, 2_1: 571, 3_2: 299, 4_5: 299   FALSE
   1_I: 4221, 2_1: 638, 4_5: 617, 3_2: 453   FALSE
     No-: 5037, Dia: 833, Pre: 85, Pre: 49   FALSE
 Col: 2270, HS_: 1745, Som: 1611, Som: 287   FALSE
  Emp: 2614, Ret: 1868, Una: 453, Sel: 378   FALSE
  2_V: 2014, 3_G: 1895, 1_E: 997, 4_F: 798   FALSE
    75K: 1631, NA: 976, 50-: 814, 35-: 723   FALSE
  Mar: 2989, Nev: 1019, Div: 888, Wid: 813   FALSE
     1_O: 4783, 3_Z: 744, 2_M: 463, NA: 24   FALSE
  Non: 2993, 1-5: 1632, 6+_: 775, All: 485   FALSE

Variable type: integer 
  variable missing complete    n  mean    sd p0 p25 median p75 p100
 avgdrinks    3027     2987 6014  2.28  2.96  1   1      2   2   75
  diab.age    5216      798 6014 50.83 14.12  1  43     51  60   85
  hhadults    3424     2590 6014  2.08  0.97  1   1      2   2   10
 numphones    5796      218 6014  1.58  0.94  1   1      1   2    6
  sleephrs      55     5959 6014  6.97  1.51  1   6      7   8   23

Variable type: numeric 
    variable missing complete    n   mean    sd    p0   p25 median   p75
     age_imp      76     5938 6014 55.96  18.34 18    43     57    68   
     alcdays     217     5797 6014  4.76   8.02  0     0      1     5   
       blind     119     5895 6014  0.049  0.22  0     0      0     0   
         bmi     425     5589 6014 28.36   6.69 11.61 23.92  27.28 31.41
    costprob      13     6001 6014  0.084  0.28  0     0      0     0   
        deaf     115     5899 6014  0.086  0.28  0     0      0     0   
      decide     138     5876 6014  0.099  0.3   0     0      0     0   
   diffalone     158     5856 6014  0.075  0.26  0     0      0     0   
   diffdress     135     5879 6014  0.038  0.19  0     0      0     0   
    diffwalk     137     5877 6014  0.18   0.38  0     0      0     0   
   ecig.ever     168     5846 6014  0.18   0.38  0     0      0     0   
     exerany      13     6001 6014  0.74   0.44  0     0      1     1   
      female       1     6013 6014  0.57   0.49  0     0      1     1   
      hasdoc      24     5990 6014  0.88   0.33  0     1      1     1   
  healthplan      21     5993 6014  0.95   0.21  0     1      1     1   
    height_m     166     5848 6014  1.7    0.1   1.37  1.63   1.7   1.78
    home.own      36     5978 6014  0.72   0.45  0     0      1     1   
    hx.arthr      26     5988 6014  0.38   0.49  0     0      0     1   
   hx.asthma      16     5998 6014  0.13   0.33  0     0      0     0   
      hx.chd      41     5973 6014  0.064  0.25  0     0      0     0   
     hx.copd      24     5990 6014  0.093  0.29  0     0      0     0   
  hx.depress      19     5995 6014  0.18   0.38  0     0      0     0   
 hx.diabetes      10     6004 6014  0.14   0.35  0     0      0     0   
   hx.kidney      22     5992 6014  0.039  0.19  0     0      0     0   
       hx.mi      25     5989 6014  0.061  0.24  0     0      0     0   
   hx.otherc       9     6005 6014  0.099  0.3   0     0      0     0   
    hx.skinc      15     5999 6014  0.087  0.28  0     0      0     0   
   hx.stroke      11     6003 6014  0.045  0.21  0     0      0     0   
  internet30      41     5973 6014  0.82   0.38  0     1      1     1   
  menthealth      74     5940 6014  3.55   7.94  0     0      0     2   
  now.asthma    5269      745 6014  0.74   0.44  0     0      1     1   
     numkids      40     5974 6014  0.51   1.02  0     0      0     1   
     phones2    2641     3373 6014  0.066  0.25  0     0      0     0   
  physhealth      94     5920 6014  4.24   8.78  0     0      0     3   
  poorhealth    3043     2971 6014  5.3    9.39  0     0      0     5   
    pregnant    5184      830 6014  0.04   0.2   0     0      0     0   
    smoke100     187     5827 6014  0.44   0.5   0     0      0     1   
     veteran      14     6000 6014  0.12   0.33  0     0      0     0   
   weight_kg     394     5620 6014 82.38  21.87 30.84 68.04  79.38 92.99
   p100
  96   
  30   
   1   
 110.88
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   2.03
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
  30   
   1   
   9   
   1   
  30   
  30   
   1   
   1   
   1   
 249.48</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_csv</span>(smart_ohio, <span class="st">&quot;data/smart_ohio.csv&quot;</span>)</code></pre></div>
</div>
<div id="clean-cleveland-elyria-data" class="section level2">
<h2><span class="header-section-number">17.7</span> Clean Cleveland-Elyria Data</h2>
<div id="cleveland---elyria-raw-data" class="section level3">
<h3><span class="header-section-number">17.7.1</span> Cleveland - Elyria Raw Data</h3>
<p>The <code>MMSANAME</code> variable is probably the simplest way for us to filter our data down to the MMSA we are interested in. Here, I’m using the <code>str_detect</code> function to identify the values of <code>MMSANAME</code> that contain the text “Cleveland”.</p>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.cle.raw &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span><span class="st"> </span>
<span class="st">  </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(MMSANAME, <span class="st">&#39;Cleveland&#39;</span>)) </code></pre></div>
<p>In the Cleveland-Elyria MSA, we have 1036 observations on the same 204 variables.</p>
</div>
<div id="clean-data---larger" class="section level3">
<h3><span class="header-section-number">17.7.2</span> Clean Data - Larger</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.cle &lt;-<span class="st"> </span>smart.cle.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">select</span>(SEQNO, MMSANAME, hhadults, 
           genhealth, physhealth, menthealth, 
           poorhealth, healthplan, hasdoc, numdocs2, 
           costprob, checktime, exerany, sleephrs, 
           hx.mi, hx.chd, hx.stroke, hx.asthma, 
           now.asthma, hx.skinc, hx.otherc, hx.copd, 
           hx.arthr, hx.depress, hx.kidney, 
           hx.diabetes, diabetes3, diab.age, 
           denttime, remteeth, agegroup, female, 
           marital, educgroup, home.own, phones2, 
           numphones, veteran, employment, numkids, 
           incomegroup, internet30, weight_kg, 
           height_m, bmi, bmigroup, pregnant, deaf, 
           blind, decide, diffwalk, diffdress, 
           diffalone, smoke100, ecig.ever, alcdays, 
           avgdrinks, age_imp)

<span class="kw">skim_with</span>(<span class="dt">numeric =</span> <span class="kw">list</span>(<span class="dt">hist =</span> <span class="ot">NULL</span>))
<span class="kw">skim</span>(<span class="kw">select</span>(smart.cle, <span class="op">-</span>SEQNO))</code></pre></div>
<pre><code>Skim summary statistics
 n obs: 1036 
 n variables: 57 

Variable type: character 
 variable missing complete    n min max empty n_unique
 MMSANAME       0     1036 1036  51  51     0        1

Variable type: factor 
    variable missing complete    n n_unique
    agegroup      12     1024 1036       13
    bmigroup      84      952 1036        4
   checktime       9     1027 1036        5
    denttime       6     1030 1036        5
   diabetes3       1     1035 1036        4
   educgroup       2     1034 1036        6
  employment      10     1026 1036        8
   genhealth       3     1033 1036        5
 incomegroup     170      866 1036        8
     marital      10     1026 1036        6
    numdocs2       5     1031 1036        3
    remteeth      25     1011 1036        4
                             top_counts ordered
 65-: 128, 60-: 122, 55-: 105, 80-: 103   FALSE
   [ 2: 349, [ 1: 322, [ 3: 268, NA: 84   FALSE
   1_I: 820, 2_1: 101, 3_2: 52, 4_5: 49   FALSE
   1_I: 752, 2_1: 113, 4_5: 91, 3_2: 70   FALSE
    No-: 884, Dia: 128, Pre: 15, Pre: 8   FALSE
  Col: 385, HS_: 292, Som: 290, Som: 54   FALSE
   Emp: 427, Ret: 345, Sel: 70, Una: 57   FALSE
 2_V: 350, 3_G: 344, 1_E: 173, 4_F: 122   FALSE
  75K: 258, NA: 170, 50-: 146, 35-: 115   FALSE
 Mar: 476, Nev: 213, Wid: 157, Div: 143   FALSE
    1_O: 795, 3_Z: 135, 2_M: 101, NA: 5   FALSE
  Non: 510, 1-5: 293, 6+_: 127, All: 81   FALSE

Variable type: integer 
  variable missing complete    n  mean    sd p0   p25 median p75 p100
 avgdrinks     510      526 1036  2.17  2.44  1  1         2   2   40
  diab.age     912      124 1036 52.35 12.96  5 46.75     55  60   83
  hhadults     586      450 1036  2.07  1.02  1  1         2   2    6
 numphones     994       42 1036  1.74  0.99  1  1         2   2    5
  sleephrs       8     1028 1036  7.02  1.53  1  6         7   8   20

Variable type: numeric 
    variable missing complete    n   mean    sd    p0   p25 median   p75
     age_imp      12     1024 1036 57.3   18.86 18    45     60    70   
     alcdays      46      990 1036  4.65   8.05  0     0      1     4   
       blind      20     1016 1036  0.037  0.19  0     0      0     0   
         bmi      84      952 1036 27.89   6.47 12.71 23.7   26.68 30.53
    costprob       3     1033 1036  0.067  0.25  0     0      0     0   
        deaf      18     1018 1036  0.071  0.26  0     0      0     0   
      decide      24     1012 1036  0.069  0.25  0     0      0     0   
   diffalone      33     1003 1036  0.07   0.25  0     0      0     0   
   diffdress      24     1012 1036  0.037  0.19  0     0      0     0   
    diffwalk      23     1013 1036  0.16   0.37  0     0      0     0   
   ecig.ever      36     1000 1036  0.15   0.35  0     0      0     0   
     exerany       3     1033 1036  0.76   0.43  0     1      1     1   
      female       0     1036 1036  0.6    0.49  0     0      1     1   
      hasdoc       5     1031 1036  0.87   0.34  0     1      1     1   
  healthplan       0     1036 1036  0.95   0.22  0     1      1     1   
    height_m      33     1003 1036  1.69   0.1   1.45  1.63   1.68  1.75
    home.own       3     1033 1036  0.71   0.45  0     0      1     1   
    hx.arthr       6     1030 1036  0.37   0.48  0     0      0     1   
   hx.asthma       4     1032 1036  0.12   0.32  0     0      0     0   
      hx.chd      11     1025 1036  0.062  0.24  0     0      0     0   
     hx.copd       6     1030 1036  0.08   0.27  0     0      0     0   
  hx.depress       3     1033 1036  0.13   0.34  0     0      0     0   
 hx.diabetes       1     1035 1036  0.12   0.33  0     0      0     0   
   hx.kidney       4     1032 1036  0.052  0.22  0     0      0     0   
       hx.mi       5     1031 1036  0.051  0.22  0     0      0     0   
   hx.otherc       2     1034 1036  0.1    0.3   0     0      0     0   
    hx.skinc       3     1033 1036  0.075  0.26  0     0      0     0   
   hx.stroke       4     1032 1036  0.042  0.2   0     0      0     0   
  internet30       6     1030 1036  0.81   0.39  0     1      1     1   
  menthealth      11     1025 1036  2.72   6.82  0     0      0     2   
  now.asthma     918      118 1036  0.69   0.46  0     0      1     1   
     numkids       5     1031 1036  0.41   0.92  0     0      0     0   
     phones2     460      576 1036  0.075  0.26  0     0      0     0   
  physhealth      17     1019 1036  3.97   8.67  0     0      0     2   
  poorhealth     543      493 1036  4.07   8.09  0     0      0     3   
    pregnant     905      131 1036  0.053  0.23  0     0      0     0   
    smoke100      37      999 1036  0.45   0.5   0     0      0     1   
     veteran       3     1033 1036  0.098  0.3   0     0      0     0   
   weight_kg      77      959 1036 80.4   21.36 36.29 65.77  77.11 90.72
   p100
  96   
  30   
   1   
  66.06
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1.98
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
   1   
  30   
   1   
   6   
   1   
  30   
  30   
   1   
   1   
   1   
 204.12</code></pre>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r"><span class="kw">write_csv</span>(smart.cle, <span class="st">&quot;data/smartcle.csv&quot;</span>)</code></pre></div>
</div>
<div id="creation-of-the-smartcle1.csv-data" class="section level3">
<h3><span class="header-section-number">17.7.3</span> Creation of the <code>smartcle1.csv</code> data</h3>
<div class="sourceCode"><pre class="sourceCode r"><code class="sourceCode r">smart.cle1 &lt;-<span class="st"> </span>smart.raw <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">filter</span>(<span class="kw">str_detect</span>(MMSANAME, <span class="st">&#39;Cleveland&#39;</span>)) <span class="op">%&gt;%</span>
<span class="st">    </span><span class="kw">select</span>(SEQNO, physhealth, menthealth, 
           poorhealth, genhealth, bmi, female,
           internet30, exerany, sleephrs, alcdays)

<span class="co"># write_csv(smart.cle1, &quot;data/smartcle1.csv&quot;)</span>

## this last line commented out because the file was
## created earlier in these notes</code></pre></div>

</div>
</div>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="colorectal-cancer-screening-and-some-special-cases.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="modeling-a-count-outcome-in-ohio-smart.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": false,
"facebook": true,
"twitter": true,
"google": false,
"linkedin": false,
"weibo": false,
"instapper": false,
"vk": false,
"all": ["facebook", "google", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/rstudio/bookdown-demo/edit/master/17_smartcleanup.Rmd",
"text": "Edit"
},
"download": ["bookdown-demo.pdf", "bookdown-demo.epub"],
"toc": {
"collapse": "subsection"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "";
    if (src === "" || src === "true") src = "https://cdn.bootcss.com/mathjax/2.7.1/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:" && /^https?:/.test(src))
      src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
